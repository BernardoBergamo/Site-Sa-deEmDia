{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/andre/source/repos/Unisinos.SaudeEmDia/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nconst _c0 = [\"local\"];\nconst _c1 = [\"remote\"];\n// import { AngularFireDatabase, AngularFireList } from 'angularfire2/database';\n// import * as firebase from \"firebase/app\";\nclass AppComponent {\n  constructor() {\n    this.title = 'Unisinos.SaudeEmDia';\n    this.callActive = false;\n    this.rtcConfig = {\n      bundlePolicy: undefined,\n      certificates: [],\n      iceCandidatePoolSize: 10,\n      iceServers: [{\n        urls: \"stun:stun.services.mozilla.com\"\n      }, {\n        urls: \"stun:stun.l.google.com:19302\"\n      }],\n      iceTransportPolicy: undefined,\n      rtcpMuxPolicy: undefined\n    };\n    this.pc = new RTCPeerConnection(this.rtcConfig);\n    // channel: AngularFireList<{}>;\n    // database: firebase.database.Reference;\n    this.senderId = \"\";\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      yield _this.setupWebRtc();\n    })();\n  }\n  ngOnDestroy() {\n    this.pc.close();\n    let tracks = this.localStream.getTracks();\n    for (let i = 0; i < tracks.length; i++) {\n      tracks[i].stop();\n    }\n    this.callActive = false;\n  }\n  setupWebRtc() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.senderId = _this2.guid();\n      var channelName = \"/webrtc\";\n      // this.channel = this.afDb.list(channelName);\n      // this.database = this.afDb.database.ref(channelName);\n      // this.database.on(\"child_added\", this.readMessage.bind(this));\n      // this.pc.onicecandidate = event => {\n      //   event.candidate ? this.sendMessage(this.senderId, JSON.stringify({ ice: event.candidate })) : console.log(\"Sent All Ice\");\n      // }\n      // this.pc.onremovestream = event => {\n      //   console.log('Stream Ended');\n      // }\n      _this2.pc.ontrack = event => _this2.remote.nativeElement.srcObject = event.streams[0]; // use ontrack\n    })();\n  }\n\n  showLocal() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      navigator.mediaDevices.getUserMedia({\n        audio: true,\n        video: true\n      }).then(stream => _this3.local.nativeElement.srcObject = stream).then(stream => {\n        //this.pc.addStream(stream);\n        _this3.localStream = stream;\n      });\n    })();\n  }\n  showRemote() {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      yield _this4.showLocal();\n      try {\n        _this4.pc.createOffer().then(offer => _this4.pc.setLocalDescription(offer)).then(() => {\n          //this.sendMessage(this.senderId, JSON.stringify({ sdp: this.pc.localDescription }));\n          _this4.callActive = true;\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n  }\n  hangup() {\n    this.pc.close();\n    let tracks = this.localStream.getTracks();\n    for (let i = 0; i < tracks.length; i++) {\n      tracks[i].stop();\n    }\n    this.callActive = false;\n  }\n  // sendMessage(senderId: string, data: string) {\n  //   var msg = this.channel.push({ sender: senderId, message: data });\n  //   msg.remove();\n  // }\n  // readMessage(data: any) {\n  //   if (!data) return;\n  //   try {\n  //     var msg = JSON.parse(data.val().message);\n  //     let personalData = data.val().personalData;\n  //     var sender = data.val().sender;\n  //     if (sender != this.senderId) {\n  //       if (msg.ice != undefined && this.pc != null) {\n  //         this.pc.addIceCandidate(new RTCIceCandidate(msg.ice));\n  //       } else if (msg.sdp.type == \"offer\") {\n  //         this.callActive = true;\n  //         this.pc.setRemoteDescription(new RTCSessionDescription(msg.sdp))\n  //           .then(() => this.pc.createAnswer())\n  //           .then((answer: any) => this.pc.setLocalDescription(answer))\n  //           .then(() => this.sendMessage(this.senderId, JSON.stringify({ sdp: this.pc.localDescription })));\n  //       } else if (msg.sdp.type == \"answer\") {\n  //         this.callActive = true;\n  //         this.pc.setRemoteDescription(new RTCSessionDescription(msg.sdp));\n  //       }\n  //     }\n  //   } catch (error) {\n  //     console.log(error);\n  //   }\n  // }\n  guid() {\n    return this.s4() + this.s4() + \"-\" + this.s4() + \"-\" + this.s4() + \"-\" + this.s4() + \"-\" + this.s4() + this.s4() + this.s4();\n  }\n  s4() {\n    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n  }\n}\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)();\n};\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  viewQuery: function AppComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.local = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.remote = _t.first);\n    }\n  },\n  decls: 17,\n  vars: 3,\n  consts: [[\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"disabled\", \"click\"], [\"mat-raised-button\", \"\", \"color\", \"warn\", 3, \"disabled\", \"click\"], [1, \"card-container\"], [1, \"card\"], [\"id\", \"local\", \"controls\", \"\", \"autoplay\", \"\", 2, \"height\", \"440px\", \"width\", \"640px\"], [\"local\", \"\"], [\"id\", \"device\", \"controls\", \"\", \"autoplay\", \"\", 2, \"height\", \"440px\", \"width\", \"640px\"], [\"remote\", \"\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"button\", 0);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_1_listener() {\n        return ctx.showLocal();\n      });\n      i0.ɵɵtext(2, \"Local\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(3, \"\\u00A0\\u00A0 \");\n      i0.ɵɵelementStart(4, \"button\", 0);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_4_listener() {\n        return ctx.showRemote();\n      });\n      i0.ɵɵtext(5, \"Remote\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(6, \"\\u00A0\\u00A0 \");\n      i0.ɵɵelementStart(7, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_7_listener() {\n        return ctx.hangup();\n      });\n      i0.ɵɵtext(8, \"Hang Up\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"div\", 2)(10, \"div\", 3);\n      i0.ɵɵelement(11, \"video\", 4, 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 3);\n      i0.ɵɵelement(14, \"video\", 6, 7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(16, \"router-outlet\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", ctx.callActive);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", ctx.callActive);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", !ctx.callActive);\n    }\n  },\n  dependencies: [i1.RouterOutlet],\n  styles: [\"@charset \\\"UTF-8\\\";\\n[_nghost-%COMP%] {\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\";\\n  font-size: 14px;\\n  color: #333;\\n  box-sizing: border-box;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\nh1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%] {\\n  margin: 8px 0;\\n}\\n\\np[_ngcontent-%COMP%] {\\n  margin: 0;\\n}\\n\\n.spacer[_ngcontent-%COMP%] {\\n  flex: 1;\\n}\\n\\n.toolbar[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  height: 60px;\\n  display: flex;\\n  align-items: center;\\n  background-color: #1976d2;\\n  color: white;\\n  font-weight: 600;\\n}\\n\\n.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  margin: 0 16px;\\n}\\n\\n.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%] {\\n  height: 40px;\\n  margin: 0 8px;\\n}\\n\\n.toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%] {\\n  height: 40px;\\n  margin: 0 16px;\\n}\\n\\n.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover {\\n  opacity: 0.8;\\n}\\n\\n.content[_ngcontent-%COMP%] {\\n  display: flex;\\n  margin: 82px auto 32px;\\n  padding: 0 16px;\\n  max-width: 960px;\\n  flex-direction: column;\\n  align-items: center;\\n}\\n\\nsvg.material-icons[_ngcontent-%COMP%] {\\n  height: 24px;\\n  width: auto;\\n}\\n\\nsvg.material-icons[_ngcontent-%COMP%]:not(:last-child) {\\n  margin-right: 8px;\\n}\\n\\n.card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\\n  fill: #888;\\n}\\n\\n.card-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-wrap: wrap;\\n  justify-content: center;\\n  margin-top: 16px;\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n  border-radius: 4px;\\n  border: 1px solid #eee;\\n  background-color: #fafafa;\\n  height: 540px;\\n  width: 640px;\\n  margin: 0 8px 16px;\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n}\\n\\n.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child) {\\n  margin-right: 0;\\n}\\n\\n.card.card-small[_ngcontent-%COMP%] {\\n  height: 16px;\\n  width: 168px;\\n}\\n\\n.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover {\\n  box-shadow: 0 4px 17px rgba(0, 0, 0, 0.35);\\n}\\n\\n.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\\n  fill: rgb(105, 103, 103);\\n}\\n\\n.card.highlight-card[_ngcontent-%COMP%] {\\n  background-color: #1976d2;\\n  color: white;\\n  font-weight: 600;\\n  border: none;\\n  width: auto;\\n  min-width: 30%;\\n  position: relative;\\n}\\n\\n.card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  margin-left: 60px;\\n}\\n\\nsvg#rocket[_ngcontent-%COMP%] {\\n  width: 80px;\\n  position: absolute;\\n  left: -10px;\\n  top: -24px;\\n}\\n\\nsvg#rocket-smoke[_ngcontent-%COMP%] {\\n  height: calc(100vh - 95px);\\n  position: absolute;\\n  top: 10px;\\n  right: 180px;\\n  z-index: -10;\\n}\\n\\na[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover {\\n  color: #1976d2;\\n  text-decoration: none;\\n}\\n\\na[_ngcontent-%COMP%]:hover {\\n  color: #125699;\\n}\\n\\n.terminal[_ngcontent-%COMP%] {\\n  position: relative;\\n  width: 80%;\\n  max-width: 600px;\\n  border-radius: 6px;\\n  padding-top: 45px;\\n  margin-top: 8px;\\n  overflow: hidden;\\n  background-color: rgb(15, 15, 16);\\n}\\n\\n.terminal[_ngcontent-%COMP%]::before {\\n  content: \\\"\\u2022\\u2022\\u2022\\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  height: 4px;\\n  background: rgb(58, 58, 58);\\n  color: #c2c3c4;\\n  width: 100%;\\n  font-size: 2rem;\\n  line-height: 0;\\n  padding: 14px 0;\\n  text-indent: 4px;\\n}\\n\\n.terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%] {\\n  font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, monospace;\\n  color: white;\\n  padding: 0 1rem 1rem;\\n  margin: 0;\\n}\\n\\n.circle-link[_ngcontent-%COMP%] {\\n  height: 40px;\\n  width: 40px;\\n  border-radius: 40px;\\n  margin: 8px;\\n  background-color: white;\\n  border: 1px solid #eeeeee;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  cursor: pointer;\\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\\n  transition: 1s ease-out;\\n}\\n\\n.circle-link[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-0.25rem);\\n  box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\\n}\\n\\nfooter[_ngcontent-%COMP%] {\\n  margin-top: 8px;\\n  display: flex;\\n  align-items: center;\\n  line-height: 20px;\\n}\\n\\nfooter[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.github-star-badge[_ngcontent-%COMP%] {\\n  color: #24292e;\\n  display: flex;\\n  align-items: center;\\n  font-size: 12px;\\n  padding: 3px 10px;\\n  border: 1px solid rgba(27, 31, 35, 0.2);\\n  border-radius: 3px;\\n  background-image: linear-gradient(-180deg, #fafbfc, #eff3f6 90%);\\n  margin-left: 4px;\\n  font-weight: 600;\\n}\\n\\n.github-star-badge[_ngcontent-%COMP%]:hover {\\n  background-image: linear-gradient(-180deg, #f0f3f6, #e6ebf1 90%);\\n  border-color: rgba(27, 31, 35, 0.35);\\n  background-position: -0.5em;\\n}\\n\\n.github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%] {\\n  height: 16px;\\n  width: 16px;\\n  margin-right: 4px;\\n}\\n\\nsvg#clouds[_ngcontent-%COMP%] {\\n  position: fixed;\\n  bottom: -160px;\\n  left: -230px;\\n  z-index: -10;\\n  width: 1920px;\\n}\\n\\n\\n@media screen and (max-width: 767px) {\\n  .card-container[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%] {\\n    width: 100%;\\n  }\\n  .card[_ngcontent-%COMP%]:not(.highlight-card) {\\n    height: 16px;\\n    margin: 8px 0;\\n  }\\n  .card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n    margin-left: 72px;\\n  }\\n  svg#rocket-smoke[_ngcontent-%COMP%] {\\n    right: 120px;\\n    transform: rotate(-5deg);\\n  }\\n}\\n@media screen and (max-width: 575px) {\\n  svg#rocket-smoke[_ngcontent-%COMP%] {\\n    display: none;\\n    visibility: hidden;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXBwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGdCQUFnQjtBQUFoQjtFQUNJLDBKQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7RUFDQSxzQkFBQTtFQUNBLG1DQUFBO0VBQ0Esa0NBQUE7QUFFSjs7QUFDRTs7Ozs7O0VBTUUsYUFBQTtBQUVKOztBQUNFO0VBQ0UsU0FBQTtBQUVKOztBQUNFO0VBQ0UsT0FBQTtBQUVKOztBQUNFO0VBQ0Usa0JBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EseUJBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7QUFFSjs7QUFDRTtFQUNFLGNBQUE7QUFFSjs7QUFDRTtFQUNFLFlBQUE7RUFDQSxhQUFBO0FBRUo7O0FBQ0U7RUFDRSxZQUFBO0VBQ0EsY0FBQTtBQUVKOztBQUNFOztFQUVFLFlBQUE7QUFFSjs7QUFDRTtFQUNFLGFBQUE7RUFDQSxzQkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7QUFFSjs7QUFDRTtFQUNFLFlBQUE7RUFDQSxXQUFBO0FBRUo7O0FBQ0U7RUFDRSxpQkFBQTtBQUVKOztBQUNFO0VBQ0UsVUFBQTtBQUVKOztBQUNFO0VBQ0UsYUFBQTtFQUNBLGVBQUE7RUFDQSx1QkFBQTtFQUNBLGdCQUFBO0FBRUo7O0FBQ0U7RUFFRSxrQkFBQTtFQUNBLHNCQUFBO0VBQ0EseUJBQUE7RUFDQSxhQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBRUEsYUFBQTtFQUNBLG1CQUFBO0VBRUEsbUJBQUE7QUFESjs7QUFNRTtFQUNFLGVBQUE7QUFISjs7QUFNRTtFQUNFLFlBQUE7RUFDQSxZQUFBO0FBSEo7O0FBVUU7RUFFRSwwQ0FBQTtBQVJKOztBQVdFO0VBQ0Usd0JBQUE7QUFSSjs7QUFXRTtFQUNFLHlCQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7QUFSSjs7QUFXRTtFQUNFLGlCQUFBO0FBUko7O0FBV0U7RUFDRSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsVUFBQTtBQVJKOztBQVdFO0VBQ0UsMEJBQUE7RUFDQSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtBQVJKOztBQVdFOzs7RUFHRSxjQUFBO0VBQ0EscUJBQUE7QUFSSjs7QUFXRTtFQUNFLGNBQUE7QUFSSjs7QUFXRTtFQUNFLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLGlDQUFBO0FBUko7O0FBV0U7RUFDRSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtFQUNBLFdBQUE7RUFDQSwyQkFBQTtFQUNBLGNBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGNBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7QUFSSjs7QUFXRTtFQUNFLHdFQUFBO0VBQ0EsWUFBQTtFQUNBLG9CQUFBO0VBQ0EsU0FBQTtBQVJKOztBQVdFO0VBQ0UsWUFBQTtFQUNBLFdBQUE7RUFDQSxtQkFBQTtFQUNBLFdBQUE7RUFDQSx1QkFBQTtFQUNBLHlCQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0Esd0VBQUE7RUFDQSx1QkFBQTtBQVJKOztBQVdFO0VBQ0UsK0JBQUE7RUFDQSwyQ0FBQTtBQVJKOztBQVdFO0VBQ0UsZUFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLGlCQUFBO0FBUko7O0FBV0U7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7QUFSSjs7QUFXRTtFQUNFLGNBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSx1Q0FBQTtFQUNBLGtCQUFBO0VBQ0EsZ0VBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0FBUko7O0FBV0U7RUFDRSxnRUFBQTtFQUNBLG9DQUFBO0VBQ0EsMkJBQUE7QUFSSjs7QUFXRTtFQUNFLFlBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7QUFSSjs7QUFXRTtFQUNFLGVBQUE7RUFDQSxjQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0FBUko7O0FBV0Usc0JBQUE7QUFDQTtFQUNFOztJQUVFLFdBQUE7RUFSSjtFQVdFO0lBQ0UsWUFBQTtJQUNBLGFBQUE7RUFUSjtFQVlFO0lBQ0UsaUJBQUE7RUFWSjtFQWFFO0lBQ0UsWUFBQTtJQUNBLHdCQUFBO0VBWEo7QUFDRjtBQWNFO0VBQ0U7SUFDRSxhQUFBO0lBQ0Esa0JBQUE7RUFaSjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gICAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgXCJTZWdvZSBVSVwiLCBSb2JvdG8sIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYsIFwiQXBwbGUgQ29sb3IgRW1vamlcIiwgXCJTZWdvZSBVSSBFbW9qaVwiLCBcIlNlZ29lIFVJIFN5bWJvbFwiO1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgY29sb3I6ICMzMzM7XHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7XHJcbiAgICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlO1xyXG4gIH1cclxuXHJcbiAgaDEsXHJcbiAgaDIsXHJcbiAgaDMsXHJcbiAgaDQsXHJcbiAgaDUsXHJcbiAgaDYge1xyXG4gICAgbWFyZ2luOiA4cHggMDtcclxuICB9XHJcblxyXG4gIHAge1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gIH1cclxuXHJcbiAgLnNwYWNlciB7XHJcbiAgICBmbGV4OiAxO1xyXG4gIH1cclxuXHJcbiAgLnRvb2xiYXIge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgbGVmdDogMDtcclxuICAgIHJpZ2h0OiAwO1xyXG4gICAgaGVpZ2h0OiA2MHB4O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTk3NmQyO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICB9XHJcblxyXG4gIC50b29sYmFyIGltZyB7XHJcbiAgICBtYXJnaW46IDAgMTZweDtcclxuICB9XHJcblxyXG4gIC50b29sYmFyICN0d2l0dGVyLWxvZ28ge1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgbWFyZ2luOiAwIDhweDtcclxuICB9XHJcblxyXG4gIC50b29sYmFyICN5b3V0dWJlLWxvZ28ge1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgbWFyZ2luOiAwIDE2cHg7XHJcbiAgfVxyXG5cclxuICAudG9vbGJhciAjdHdpdHRlci1sb2dvOmhvdmVyLFxyXG4gIC50b29sYmFyICN5b3V0dWJlLWxvZ286aG92ZXIge1xyXG4gICAgb3BhY2l0eTogMC44O1xyXG4gIH1cclxuXHJcbiAgLmNvbnRlbnQge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIG1hcmdpbjogODJweCBhdXRvIDMycHg7XHJcbiAgICBwYWRkaW5nOiAwIDE2cHg7XHJcbiAgICBtYXgtd2lkdGg6IDk2MHB4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgfVxyXG5cclxuICBzdmcubWF0ZXJpYWwtaWNvbnMge1xyXG4gICAgaGVpZ2h0OiAyNHB4O1xyXG4gICAgd2lkdGg6IGF1dG87XHJcbiAgfVxyXG5cclxuICBzdmcubWF0ZXJpYWwtaWNvbnM6bm90KDpsYXN0LWNoaWxkKSB7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDhweDtcclxuICB9XHJcblxyXG4gIC5jYXJkIHN2Zy5tYXRlcmlhbC1pY29ucyBwYXRoIHtcclxuICAgIGZpbGw6ICM4ODg7XHJcbiAgfVxyXG5cclxuICAuY2FyZC1jb250YWluZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgbWFyZ2luLXRvcDogMTZweDtcclxuICB9XHJcblxyXG4gIC5jYXJkIHtcclxuICAgIC8vIGFsbDogdW5zZXQ7XHJcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZWVlO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZhZmFmYTtcclxuICAgIGhlaWdodDogNTQwcHg7XHJcbiAgICB3aWR0aDogNjQwcHg7XHJcbiAgICBtYXJnaW46IDAgOHB4IDE2cHg7XHJcbiAgICAvLyBwYWRkaW5nOiAxNnB4O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAvLyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAvLyB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlLWluLW91dDtcclxuICAgIC8vIGxpbmUtaGVpZ2h0OiAyNHB4O1xyXG4gIH1cclxuXHJcbiAgLmNhcmQtY29udGFpbmVyIC5jYXJkOm5vdCg6bGFzdC1jaGlsZCkge1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAwO1xyXG4gIH1cclxuXHJcbiAgLmNhcmQuY2FyZC1zbWFsbCB7XHJcbiAgICBoZWlnaHQ6IDE2cHg7XHJcbiAgICB3aWR0aDogMTY4cHg7XHJcbiAgfVxyXG5cclxuLy8gICAuY2FyZC1jb250YWluZXIgLmNhcmQ6bm90KC5oaWdobGlnaHQtY2FyZCkge1xyXG4vLyAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4vLyAgIH1cclxuXHJcbiAgLmNhcmQtY29udGFpbmVyIC5jYXJkOm5vdCguaGlnaGxpZ2h0LWNhcmQpOmhvdmVyIHtcclxuICAgIC8vIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtM3B4KTtcclxuICAgIGJveC1zaGFkb3c6IDAgNHB4IDE3cHggcmdiYSgwLCAwLCAwLCAwLjM1KTtcclxuICB9XHJcblxyXG4gIC5jYXJkLWNvbnRhaW5lciAuY2FyZDpub3QoLmhpZ2hsaWdodC1jYXJkKTpob3ZlciAubWF0ZXJpYWwtaWNvbnMgcGF0aCB7XHJcbiAgICBmaWxsOiByZ2IoMTA1LCAxMDMsIDEwMyk7XHJcbiAgfVxyXG5cclxuICAuY2FyZC5oaWdobGlnaHQtY2FyZCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTk3NmQyO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIHdpZHRoOiBhdXRvO1xyXG4gICAgbWluLXdpZHRoOiAzMCU7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgfVxyXG5cclxuICAuY2FyZC5jYXJkLmhpZ2hsaWdodC1jYXJkIHNwYW4ge1xyXG4gICAgbWFyZ2luLWxlZnQ6IDYwcHg7XHJcbiAgfVxyXG5cclxuICBzdmcjcm9ja2V0IHtcclxuICAgIHdpZHRoOiA4MHB4O1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgbGVmdDogLTEwcHg7XHJcbiAgICB0b3A6IC0yNHB4O1xyXG4gIH1cclxuXHJcbiAgc3ZnI3JvY2tldC1zbW9rZSB7XHJcbiAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA5NXB4KTtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMTBweDtcclxuICAgIHJpZ2h0OiAxODBweDtcclxuICAgIHotaW5kZXg6IC0xMDtcclxuICB9XHJcblxyXG4gIGEsXHJcbiAgYTp2aXNpdGVkLFxyXG4gIGE6aG92ZXIge1xyXG4gICAgY29sb3I6ICMxOTc2ZDI7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgfVxyXG5cclxuICBhOmhvdmVyIHtcclxuICAgIGNvbG9yOiAjMTI1Njk5O1xyXG4gIH1cclxuXHJcbiAgLnRlcm1pbmFsIHtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIHdpZHRoOiA4MCU7XHJcbiAgICBtYXgtd2lkdGg6IDYwMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNnB4O1xyXG4gICAgcGFkZGluZy10b3A6IDQ1cHg7XHJcbiAgICBtYXJnaW4tdG9wOiA4cHg7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE1LCAxNSwgMTYpO1xyXG4gIH1cclxuXHJcbiAgLnRlcm1pbmFsOjpiZWZvcmUge1xyXG4gICAgY29udGVudDogXCJcXDIwMjIgXFwyMDIyIFxcMjAyMlwiO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgbGVmdDogMDtcclxuICAgIGhlaWdodDogNHB4O1xyXG4gICAgYmFja2dyb3VuZDogcmdiKDU4LCA1OCwgNTgpO1xyXG4gICAgY29sb3I6ICNjMmMzYzQ7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGZvbnQtc2l6ZTogMnJlbTtcclxuICAgIGxpbmUtaGVpZ2h0OiAwO1xyXG4gICAgcGFkZGluZzogMTRweCAwO1xyXG4gICAgdGV4dC1pbmRlbnQ6IDRweDtcclxuICB9XHJcblxyXG4gIC50ZXJtaW5hbCBwcmUge1xyXG4gICAgZm9udC1mYW1pbHk6IFNGTW9uby1SZWd1bGFyLENvbnNvbGFzLExpYmVyYXRpb24gTW9ubyxNZW5sbyxtb25vc3BhY2U7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBwYWRkaW5nOiAwIDFyZW0gMXJlbTtcclxuICAgIG1hcmdpbjogMDtcclxuICB9XHJcblxyXG4gIC5jaXJjbGUtbGluayB7XHJcbiAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICB3aWR0aDogNDBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDQwcHg7XHJcbiAgICBtYXJnaW46IDhweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2VlZWVlZTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICBib3gtc2hhZG93OiAwIDFweCAzcHggcmdiYSgwLCAwLCAwLCAwLjEyKSwgMCAxcHggMnB4IHJnYmEoMCwgMCwgMCwgMC4yNCk7XHJcbiAgICB0cmFuc2l0aW9uOiAxcyBlYXNlLW91dDtcclxuICB9XHJcblxyXG4gIC5jaXJjbGUtbGluazpob3ZlciB7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTAuMjVyZW0pO1xyXG4gICAgYm94LXNoYWRvdzogMHB4IDNweCAxNXB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcclxuICB9XHJcblxyXG4gIGZvb3RlciB7XHJcbiAgICBtYXJnaW4tdG9wOiA4cHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xyXG4gIH1cclxuXHJcbiAgZm9vdGVyIGEge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgfVxyXG5cclxuICAuZ2l0aHViLXN0YXItYmFkZ2Uge1xyXG4gICAgY29sb3I6ICMyNDI5MmU7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgIHBhZGRpbmc6IDNweCAxMHB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNywzMSwzNSwuMik7XHJcbiAgICBib3JkZXItcmFkaXVzOiAzcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoLTE4MGRlZywjZmFmYmZjLCNlZmYzZjYgOTAlKTtcclxuICAgIG1hcmdpbi1sZWZ0OiA0cHg7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG4gIH1cclxuXHJcbiAgLmdpdGh1Yi1zdGFyLWJhZGdlOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgtMTgwZGVnLCNmMGYzZjYsI2U2ZWJmMSA5MCUpO1xyXG4gICAgYm9yZGVyLWNvbG9yOiByZ2JhKDI3LDMxLDM1LC4zNSk7XHJcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtLjVlbTtcclxuICB9XHJcblxyXG4gIC5naXRodWItc3Rhci1iYWRnZSAubWF0ZXJpYWwtaWNvbnMge1xyXG4gICAgaGVpZ2h0OiAxNnB4O1xyXG4gICAgd2lkdGg6IDE2cHg7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDRweDtcclxuICB9XHJcblxyXG4gIHN2ZyNjbG91ZHMge1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgYm90dG9tOiAtMTYwcHg7XHJcbiAgICBsZWZ0OiAtMjMwcHg7XHJcbiAgICB6LWluZGV4OiAtMTA7XHJcbiAgICB3aWR0aDogMTkyMHB4O1xyXG4gIH1cclxuXHJcbiAgLyogUmVzcG9uc2l2ZSBTdHlsZXMgKi9cclxuICBAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA3NjdweCkge1xyXG4gICAgLmNhcmQtY29udGFpbmVyID4gKjpub3QoLmNpcmNsZS1saW5rKSAsXHJcbiAgICAudGVybWluYWwge1xyXG4gICAgICB3aWR0aDogMTAwJTtcclxuICAgIH1cclxuXHJcbiAgICAuY2FyZDpub3QoLmhpZ2hsaWdodC1jYXJkKSB7XHJcbiAgICAgIGhlaWdodDogMTZweDtcclxuICAgICAgbWFyZ2luOiA4cHggMDtcclxuICAgIH1cclxuXHJcbiAgICAuY2FyZC5oaWdobGlnaHQtY2FyZCBzcGFuIHtcclxuICAgICAgbWFyZ2luLWxlZnQ6IDcycHg7XHJcbiAgICB9XHJcblxyXG4gICAgc3ZnI3JvY2tldC1zbW9rZSB7XHJcbiAgICAgIHJpZ2h0OiAxMjBweDtcclxuICAgICAgdHJhbnNmb3JtOiByb3RhdGUoLTVkZWcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNTc1cHgpIHtcclxuICAgIHN2ZyNyb2NrZXQtc21va2Uge1xyXG4gICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgICB2aXNpYmlsaXR5OiBoaWRkZW47XHJcbiAgICB9XHJcbiAgfVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});\nexport { AppComponent };","map":{"version":3,"names":["AppComponent","constructor","title","callActive","rtcConfig","bundlePolicy","undefined","certificates","iceCandidatePoolSize","iceServers","urls","iceTransportPolicy","rtcpMuxPolicy","pc","RTCPeerConnection","senderId","ngOnInit","_this","_asyncToGenerator","setupWebRtc","ngOnDestroy","close","tracks","localStream","getTracks","i","length","stop","_this2","guid","channelName","ontrack","event","remote","nativeElement","srcObject","streams","showLocal","_this3","navigator","mediaDevices","getUserMedia","audio","video","then","stream","local","showRemote","_this4","createOffer","offer","setLocalDescription","error","console","log","hangup","s4","Math","floor","random","toString","substring","selectors","viewQuery","AppComponent_Query","rf","ctx","i0","ɵɵelementStart","ɵɵlistener","AppComponent_Template_button_click_1_listener","ɵɵtext","ɵɵelementEnd","AppComponent_Template_button_click_4_listener","AppComponent_Template_button_click_7_listener","ɵɵelement","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\andre\\source\\repos\\Unisinos.SaudeEmDia\\src\\app\\app.component.ts","C:\\Users\\andre\\source\\repos\\Unisinos.SaudeEmDia\\src\\app\\app.component.html"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\n// import { AngularFireDatabase, AngularFireList } from 'angularfire2/database';\n// import * as firebase from \"firebase/app\";\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n  title = 'Unisinos.SaudeEmDia';\n  callActive: boolean = false;\n  rtcConfig: RTCConfiguration = {\n    bundlePolicy: undefined,\n    certificates: [],\n    iceCandidatePoolSize: 10,\n    iceServers: [\n      { urls: \"stun:stun.services.mozilla.com\" },\n      { urls: \"stun:stun.l.google.com:19302\" }\n    ],\n    iceTransportPolicy: undefined,\n    rtcpMuxPolicy: undefined\n  };\n  pc: RTCPeerConnection = new RTCPeerConnection(this.rtcConfig);\n\n  localStream: any;\n  // channel: AngularFireList<{}>;\n  // database: firebase.database.Reference;\n  senderId: string = \"\";\n\n  @ViewChild(\"local\") local: any;\n  @ViewChild(\"remote\") remote: any;\n\n  constructor(\n    //private afDb: AngularFireDatabase,\n  ) { }\n\n  async ngOnInit() {\n    await this.setupWebRtc();\n  }\n\n  public ngOnDestroy() {\n    this.pc.close();\n    let tracks = this.localStream.getTracks();\n\n    for (let i = 0; i < tracks.length; i++) {\n      tracks[i].stop();\n    }\n\n    this.callActive = false;\n  }\n\n  async setupWebRtc() {\n    this.senderId = this.guid();\n    var channelName = \"/webrtc\";\n    // this.channel = this.afDb.list(channelName);\n    // this.database = this.afDb.database.ref(channelName);\n    // this.database.on(\"child_added\", this.readMessage.bind(this));\n\n    // this.pc.onicecandidate = event => {\n    //   event.candidate ? this.sendMessage(this.senderId, JSON.stringify({ ice: event.candidate })) : console.log(\"Sent All Ice\");\n    // }\n\n    // this.pc.onremovestream = event => {\n    //   console.log('Stream Ended');\n    // }\n\n    this.pc.ontrack = event =>\n      (this.remote.nativeElement.srcObject = event.streams[0]); // use ontrack\n  }\n\n  async showLocal() {\n    navigator.mediaDevices.getUserMedia({ audio: true, video: true })\n      .then(stream => (this.local.nativeElement.srcObject = stream))\n      .then(stream => {\n        //this.pc.addStream(stream);\n\n        this.localStream = stream;\n      });\n  }\n\n  async showRemote() {\n    await this.showLocal();\n\n    try {\n      this.pc.createOffer()\n        .then((offer: any) => this.pc.setLocalDescription(offer))\n        .then(() => {\n          //this.sendMessage(this.senderId, JSON.stringify({ sdp: this.pc.localDescription }));\n\n          this.callActive = true;\n        });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  hangup() {\n    this.pc.close();\n    let tracks = this.localStream.getTracks();\n\n    for (let i = 0; i < tracks.length; i++) {\n      tracks[i].stop();\n    }\n\n    this.callActive = false;\n  }\n\n  // sendMessage(senderId: string, data: string) {\n  //   var msg = this.channel.push({ sender: senderId, message: data });\n  //   msg.remove();\n  // }\n\n  // readMessage(data: any) {\n  //   if (!data) return;\n  //   try {\n  //     var msg = JSON.parse(data.val().message);\n  //     let personalData = data.val().personalData;\n  //     var sender = data.val().sender;\n\n  //     if (sender != this.senderId) {\n  //       if (msg.ice != undefined && this.pc != null) {\n  //         this.pc.addIceCandidate(new RTCIceCandidate(msg.ice));\n  //       } else if (msg.sdp.type == \"offer\") {\n  //         this.callActive = true;\n  //         this.pc.setRemoteDescription(new RTCSessionDescription(msg.sdp))\n  //           .then(() => this.pc.createAnswer())\n  //           .then((answer: any) => this.pc.setLocalDescription(answer))\n  //           .then(() => this.sendMessage(this.senderId, JSON.stringify({ sdp: this.pc.localDescription })));\n  //       } else if (msg.sdp.type == \"answer\") {\n  //         this.callActive = true;\n  //         this.pc.setRemoteDescription(new RTCSessionDescription(msg.sdp));\n  //       }\n  //     }\n  //   } catch (error) {\n  //     console.log(error);\n  //   }\n  // }\n\n  guid() {\n    return (this.s4() + this.s4() + \"-\" + this.s4() + \"-\" + this.s4() + \"-\" + this.s4() + \"-\" + this.s4() + this.s4() + this.s4());\n  }\n  s4() {\n    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n  }\n}\n","<div>\n  <button mat-raised-button color=\"primary\" (click)=\"showLocal()\" [disabled]=\"callActive\">Local</button>&nbsp;&nbsp;\n  <button mat-raised-button color=\"primary\" (click)=\"showRemote()\" [disabled]=\"callActive\">Remote</button>&nbsp;&nbsp;\n  <button mat-raised-button color=\"warn\" (click)=\"hangup()\" [disabled]=\"!callActive\">Hang Up</button>\n</div>\n\n<div class=\"card-container\">\n  <div class=\"card\">\n    <video id=\"local\" controls autoplay #local style=\"height: 440px;width: 640px;\"></video>\n\n  </div>\n\n  <div class=\"card\">\n    <video id=\"device\" controls autoplay #remote style=\"height: 440px;width: 640px;\"> </video>\n  </div>\n</div>\n\n<router-outlet></router-outlet>\n"],"mappings":";;;;;AACA;AACA;AAEA,MAKaA,YAAY;EAwBvBC,YAAA;IAvBA,KAAAC,KAAK,GAAG,gBAAgB;IACxB,KAAAC,UAAU,GAAY,KAAK;IAC3B,KAAAC,SAAS,GAAqB;MAC5BC,YAAY,EAAEC,SAAS;MACvBC,YAAY,EAAE,EAAE;MAChBC,oBAAoB,EAAE,EAAE;MACxBC,UAAU,EAAE,CACV;QAAEC,IAAI,EAAE;MAAgC,CAAE,EAC1C;QAAEA,IAAI,EAAE;MAA8B,CAAE,CACzC;MACDC,kBAAkB,EAAEL,SAAS;MAC7BM,aAAa,EAAEN;KAChB;IACD,KAAAO,EAAE,GAAsB,IAAIC,iBAAiB,CAAC,IAAI,CAACV,SAAS,CAAC;IAG7D;IACA;IACA,KAAAW,QAAQ,GAAW,EAAE;EAOjB;EAEEC,QAAQA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACZ,MAAMD,KAAI,CAACE,WAAW,EAAE;IAAC;EAC3B;EAEOC,WAAWA,CAAA;IAChB,IAAI,CAACP,EAAE,CAACQ,KAAK,EAAE;IACf,IAAIC,MAAM,GAAG,IAAI,CAACC,WAAW,CAACC,SAAS,EAAE;IAEzC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,MAAM,CAACI,MAAM,EAAED,CAAC,EAAE,EAAE;MACtCH,MAAM,CAACG,CAAC,CAAC,CAACE,IAAI,EAAE;;IAGlB,IAAI,CAACxB,UAAU,GAAG,KAAK;EACzB;EAEMgB,WAAWA,CAAA;IAAA,IAAAS,MAAA;IAAA,OAAAV,iBAAA;MACfU,MAAI,CAACb,QAAQ,GAAGa,MAAI,CAACC,IAAI,EAAE;MAC3B,IAAIC,WAAW,GAAG,SAAS;MAC3B;MACA;MACA;MAEA;MACA;MACA;MAEA;MACA;MACA;MAEAF,MAAI,CAACf,EAAE,CAACkB,OAAO,GAAGC,KAAK,IACpBJ,MAAI,CAACK,MAAM,CAACC,aAAa,CAACC,SAAS,GAAGH,KAAK,CAACI,OAAO,CAAC,CAAC,CAAE,CAAC,CAAC;IAAA;EAC9D;;EAEMC,SAASA,CAAA;IAAA,IAAAC,MAAA;IAAA,OAAApB,iBAAA;MACbqB,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC;QAAEC,KAAK,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAI,CAAE,CAAC,CAC9DC,IAAI,CAACC,MAAM,IAAKP,MAAI,CAACQ,KAAK,CAACZ,aAAa,CAACC,SAAS,GAAGU,MAAO,CAAC,CAC7DD,IAAI,CAACC,MAAM,IAAG;QACb;QAEAP,MAAI,CAACf,WAAW,GAAGsB,MAAM;MAC3B,CAAC,CAAC;IAAC;EACP;EAEME,UAAUA,CAAA;IAAA,IAAAC,MAAA;IAAA,OAAA9B,iBAAA;MACd,MAAM8B,MAAI,CAACX,SAAS,EAAE;MAEtB,IAAI;QACFW,MAAI,CAACnC,EAAE,CAACoC,WAAW,EAAE,CAClBL,IAAI,CAAEM,KAAU,IAAKF,MAAI,CAACnC,EAAE,CAACsC,mBAAmB,CAACD,KAAK,CAAC,CAAC,CACxDN,IAAI,CAAC,MAAK;UACT;UAEAI,MAAI,CAAC7C,UAAU,GAAG,IAAI;QACxB,CAAC,CAAC;OACL,CAAC,OAAOiD,KAAK,EAAE;QACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;;IACnB;EACH;EAEAG,MAAMA,CAAA;IACJ,IAAI,CAAC1C,EAAE,CAACQ,KAAK,EAAE;IACf,IAAIC,MAAM,GAAG,IAAI,CAACC,WAAW,CAACC,SAAS,EAAE;IAEzC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,MAAM,CAACI,MAAM,EAAED,CAAC,EAAE,EAAE;MACtCH,MAAM,CAACG,CAAC,CAAC,CAACE,IAAI,EAAE;;IAGlB,IAAI,CAACxB,UAAU,GAAG,KAAK;EACzB;EAEA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA0B,IAAIA,CAAA;IACF,OAAQ,IAAI,CAAC2B,EAAE,EAAE,GAAG,IAAI,CAACA,EAAE,EAAE,GAAG,GAAG,GAAG,IAAI,CAACA,EAAE,EAAE,GAAG,GAAG,GAAG,IAAI,CAACA,EAAE,EAAE,GAAG,GAAG,GAAG,IAAI,CAACA,EAAE,EAAE,GAAG,GAAG,GAAG,IAAI,CAACA,EAAE,EAAE,GAAG,IAAI,CAACA,EAAE,EAAE,GAAG,IAAI,CAACA,EAAE,EAAE;EAC/H;EACAA,EAAEA,CAAA;IACA,OAAOC,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,GAAGD,IAAI,CAACE,MAAM,EAAE,IAAI,OAAO,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,SAAS,CAAC,CAAC,CAAC;EAC5E;;AAvIW7D,YAAY,C;mBAAZA,YAAY;AAAA;AAAZA,YAAY,C;QAAZA,YAAY;EAAA8D,SAAA;EAAAC,SAAA,WAAAC,mBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;;;;;;;;;;;;;;;MCTzBE,EAAA,CAAAC,cAAA,UAAK;MACuCD,EAAA,CAAAE,UAAA,mBAAAC,8CAAA;QAAA,OAASJ,GAAA,CAAA7B,SAAA,EAAW;MAAA,EAAC;MAAyB8B,EAAA,CAAAI,MAAA,YAAK;MAAAJ,EAAA,CAAAK,YAAA,EAAS;MAAAL,EAAA,CAAAI,MAAA,oBACtG;MAAAJ,EAAA,CAAAC,cAAA,gBAAyF;MAA/CD,EAAA,CAAAE,UAAA,mBAAAI,8CAAA;QAAA,OAASP,GAAA,CAAAnB,UAAA,EAAY;MAAA,EAAC;MAAyBoB,EAAA,CAAAI,MAAA,aAAM;MAAAJ,EAAA,CAAAK,YAAA,EAAS;MAAAL,EAAA,CAAAI,MAAA,oBACxG;MAAAJ,EAAA,CAAAC,cAAA,gBAAmF;MAA5CD,EAAA,CAAAE,UAAA,mBAAAK,8CAAA;QAAA,OAASR,GAAA,CAAAX,MAAA,EAAQ;MAAA,EAAC;MAA0BY,EAAA,CAAAI,MAAA,cAAO;MAAAJ,EAAA,CAAAK,YAAA,EAAS;MAGrGL,EAAA,CAAAC,cAAA,aAA4B;MAExBD,EAAA,CAAAQ,SAAA,mBAAuF;MAEzFR,EAAA,CAAAK,YAAA,EAAM;MAENL,EAAA,CAAAC,cAAA,cAAkB;MAChBD,EAAA,CAAAQ,SAAA,mBAA0F;MAC5FR,EAAA,CAAAK,YAAA,EAAM;MAGRL,EAAA,CAAAQ,SAAA,qBAA+B;;;MAhBmCR,EAAA,CAAAS,SAAA,GAAuB;MAAvBT,EAAA,CAAAU,UAAA,aAAAX,GAAA,CAAA/D,UAAA,CAAuB;MACtBgE,EAAA,CAAAS,SAAA,GAAuB;MAAvBT,EAAA,CAAAU,UAAA,aAAAX,GAAA,CAAA/D,UAAA,CAAuB;MAC9BgE,EAAA,CAAAS,SAAA,GAAwB;MAAxBT,EAAA,CAAAU,UAAA,cAAAX,GAAA,CAAA/D,UAAA,CAAwB;;;;;;SDMvEH,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}