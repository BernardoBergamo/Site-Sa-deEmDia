{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/andre/source/repos/Unisinos.SaudeEmDia/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nconst _c0 = [\"me\"];\nconst _c1 = [\"remote\"];\n// import { AngularFireDatabase, AngularFireList } from 'angularfire2/database';\n// import * as firebase from \"firebase/app\";\nclass AppComponent {\n  constructor() {\n    this.title = 'Unisinos.SaudeEmDia';\n    this.callActive = false;\n    this.rtcConfig = {\n      bundlePolicy: undefined,\n      certificates: [],\n      iceCandidatePoolSize: undefined,\n      iceServers: [{\n        urls: \"stun:stun.services.mozilla.com\"\n      }, {\n        urls: \"stun:stun.l.google.com:19302\"\n      }],\n      iceTransportPolicy: undefined,\n      rtcpMuxPolicy: undefined\n    };\n    this.pc = new RTCPeerConnection(this.rtcConfig);\n    // channel: AngularFireList<{}>;\n    // database: firebase.database.Reference;\n    this.senderId = \"\";\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      yield _this.setupWebRtc();\n    })();\n  }\n  ngOnDestroy() {\n    this.pc.close();\n    let tracks = this.localStream.getTracks();\n    for (let i = 0; i < tracks.length; i++) {\n      tracks[i].stop();\n    }\n    this.callActive = false;\n  }\n  setupWebRtc() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.senderId = _this2.guid();\n      var channelName = \"/webrtc\";\n      // this.channel = this.afDb.list(channelName);\n      // this.database = this.afDb.database.ref(channelName);\n      // this.database.on(\"child_added\", this.readMessage.bind(this));\n      // this.pc.onicecandidate = event => {\n      //   event.candidate ? this.sendMessage(this.senderId, JSON.stringify({ ice: event.candidate })) : console.log(\"Sent All Ice\");\n      // }\n      // this.pc.onremovestream = event => {\n      //   console.log('Stream Ended');\n      // }\n      _this2.pc.ontrack = event => _this2.remote.nativeElement.srcObject = event.streams[0]; // use ontrack\n    })();\n  }\n\n  showLocal() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      navigator.mediaDevices.getUserMedia({\n        audio: true,\n        video: true\n      }).then(stream => _this3.me.nativeElement.srcObject = stream).then(stream => {\n        //this.pc.addStream(stream);\n        _this3.localStream = stream;\n      });\n    })();\n  }\n  // sendMessage(senderId: string, data: string) {\n  //   var msg = this.channel.push({ sender: senderId, message: data });\n  //   msg.remove();\n  // }\n  // readMessage(data: any) {\n  //   if (!data) return;\n  //   try {\n  //     var msg = JSON.parse(data.val().message);\n  //     let personalData = data.val().personalData;\n  //     var sender = data.val().sender;\n  //     if (sender != this.senderId) {\n  //       if (msg.ice != undefined && this.pc != null) {\n  //         this.pc.addIceCandidate(new RTCIceCandidate(msg.ice));\n  //       } else if (msg.sdp.type == \"offer\") {\n  //         this.callActive = true;\n  //         this.pc.setRemoteDescription(new RTCSessionDescription(msg.sdp))\n  //           .then(() => this.pc.createAnswer())\n  //           .then((answer: any) => this.pc.setLocalDescription(answer))\n  //           .then(() => this.sendMessage(this.senderId, JSON.stringify({ sdp: this.pc.localDescription })));\n  //       } else if (msg.sdp.type == \"answer\") {\n  //         this.callActive = true;\n  //         this.pc.setRemoteDescription(new RTCSessionDescription(msg.sdp));\n  //       }\n  //     }\n  //   } catch (error) {\n  //     console.log(error);\n  //   }\n  // }\n  // showRemote() {\n  //   try {\n  //     this.pc.createOffer()\n  //       .then((offer: any) => this.pc.setLocalDescription(offer))\n  //       .then(() => {\n  //         this.sendMessage(this.senderId, JSON.stringify({ sdp: this.pc.localDescription }));\n  //         this.callActive = true;\n  //       });\n  //   } catch (error) {\n  //     this.setupWebRtc();\n  //     console.log(error);\n  //   }\n  // }\n  // hangup() {\n  //   this.pc.close();\n  //   let tracks = this.localStream.getTracks();\n  //   for (let i = 0; i < tracks.length; i++) {\n  //     tracks[i].stop();\n  //   }\n  //   this.callActive = false;\n  // }\n  guid() {\n    return this.s4() + this.s4() + \"-\" + this.s4() + \"-\" + this.s4() + \"-\" + this.s4() + \"-\" + this.s4() + this.s4() + this.s4();\n  }\n  s4() {\n    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n  }\n}\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)();\n};\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  viewQuery: function AppComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.me = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.remote = _t.first);\n    }\n  },\n  decls: 21,\n  vars: 1,\n  consts: [[\"role\", \"banner\", 1, \"toolbar\"], [1, \"spacer\"], [\"aria-label\", \"WebRTC\", \"target\", \"_blank\", \"rel\", \"noopener\", \"href\", \"https://webrtc.org/?hl=pt-br\", \"title\", \"WebRTC\"], [\"id\", \"webrtc-logo\", \"height\", \"24\", \"width\", \"24\", \"data-name\", \"Logo\", \"xmlns\", \"http://www.w3.org/2000/svg\", \"viewBox\", \"0 0 24 24\", \"fill\", \"#fff\"], [\"d\", \"https://www.gstatic.com/devrel-devsite/prod/vfe8699a5d354c41f3f953a7a9794768d4d2f39d37577d5708b5539be069912e1/webrtc/images/lockup.svg\"], [1, \"card-container\"], [1, \"card\"], [\"id\", \"me\", \"controls\", \"\", \"autoplay\", \"\"], [\"me\", \"\"], [1, \"row\"], [1, \"col\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"disabled\", \"click\"], [\"id\", \"device\", \"controls\", \"\", \"autoplay\", \"\"], [\"remote\", \"\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"span\");\n      i0.ɵɵtext(2, \"WebRTC Softphone\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(3, \"div\", 1);\n      i0.ɵɵelementStart(4, \"a\", 2);\n      i0.ɵɵnamespaceSVG();\n      i0.ɵɵelementStart(5, \"svg\", 3);\n      i0.ɵɵelement(6, \"path\", 4);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵnamespaceHTML();\n      i0.ɵɵelementStart(7, \"div\", 5)(8, \"div\", 6);\n      i0.ɵɵelement(9, \"video\", 7, 8);\n      i0.ɵɵelementStart(11, \"div\", 9)(12, \"div\", 10)(13, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_13_listener() {\n        return ctx.showLocal();\n      });\n      i0.ɵɵtext(14, \"Connect\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(15, \"div\", 10)(16, \"div\", 10);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"div\", 6);\n      i0.ɵɵelement(18, \"video\", 12, 13);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(20, \"router-outlet\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"disabled\", ctx.callActive);\n    }\n  },\n  dependencies: [i1.RouterOutlet],\n  styles: [\"@charset \\\"UTF-8\\\";\\n[_nghost-%COMP%] {\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\";\\n  font-size: 14px;\\n  color: #333;\\n  box-sizing: border-box;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\nh1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%] {\\n  margin: 8px 0;\\n}\\n\\np[_ngcontent-%COMP%] {\\n  margin: 0;\\n}\\n\\n.spacer[_ngcontent-%COMP%] {\\n  flex: 1;\\n}\\n\\n.toolbar[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  height: 60px;\\n  display: flex;\\n  align-items: center;\\n  background-color: #1976d2;\\n  color: white;\\n  font-weight: 600;\\n}\\n\\n.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  margin: 0 16px;\\n}\\n\\n.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%] {\\n  height: 40px;\\n  margin: 0 8px;\\n}\\n\\n.toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%] {\\n  height: 40px;\\n  margin: 0 16px;\\n}\\n\\n.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover {\\n  opacity: 0.8;\\n}\\n\\n.content[_ngcontent-%COMP%] {\\n  display: flex;\\n  margin: 82px auto 32px;\\n  padding: 0 16px;\\n  max-width: 960px;\\n  flex-direction: column;\\n  align-items: center;\\n}\\n\\nsvg.material-icons[_ngcontent-%COMP%] {\\n  height: 24px;\\n  width: auto;\\n}\\n\\nsvg.material-icons[_ngcontent-%COMP%]:not(:last-child) {\\n  margin-right: 8px;\\n}\\n\\n.card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\\n  fill: #888;\\n}\\n\\n.card-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-wrap: wrap;\\n  justify-content: center;\\n  margin-top: 16px;\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n  all: unset;\\n  border-radius: 4px;\\n  border: 1px solid #eee;\\n  background-color: #fafafa;\\n  margin: 0 8px 16px;\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  transition: all 0.2s ease-in-out;\\n  line-height: 24px;\\n}\\n\\n.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child) {\\n  margin-right: 0;\\n}\\n\\n.card.card-small[_ngcontent-%COMP%] {\\n  height: 16px;\\n  width: 168px;\\n}\\n\\n.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover {\\n  transform: translateY(-3px);\\n  box-shadow: 0 4px 17px rgba(0, 0, 0, 0.35);\\n}\\n\\n.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\\n  fill: rgb(105, 103, 103);\\n}\\n\\n.card.highlight-card[_ngcontent-%COMP%] {\\n  background-color: #1976d2;\\n  color: white;\\n  font-weight: 600;\\n  border: none;\\n  width: auto;\\n  min-width: 30%;\\n  position: relative;\\n}\\n\\n.card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  margin-left: 60px;\\n}\\n\\nsvg#rocket[_ngcontent-%COMP%] {\\n  width: 80px;\\n  position: absolute;\\n  left: -10px;\\n  top: -24px;\\n}\\n\\nsvg#rocket-smoke[_ngcontent-%COMP%] {\\n  height: calc(100vh - 95px);\\n  position: absolute;\\n  top: 10px;\\n  right: 180px;\\n  z-index: -10;\\n}\\n\\na[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover {\\n  color: #1976d2;\\n  text-decoration: none;\\n}\\n\\na[_ngcontent-%COMP%]:hover {\\n  color: #125699;\\n}\\n\\n.terminal[_ngcontent-%COMP%] {\\n  position: relative;\\n  width: 80%;\\n  max-width: 600px;\\n  border-radius: 6px;\\n  padding-top: 45px;\\n  margin-top: 8px;\\n  overflow: hidden;\\n  background-color: rgb(15, 15, 16);\\n}\\n\\n.terminal[_ngcontent-%COMP%]::before {\\n  content: \\\"\\u2022\\u2022\\u2022\\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  height: 4px;\\n  background: rgb(58, 58, 58);\\n  color: #c2c3c4;\\n  width: 100%;\\n  font-size: 2rem;\\n  line-height: 0;\\n  padding: 14px 0;\\n  text-indent: 4px;\\n}\\n\\n.terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%] {\\n  font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, monospace;\\n  color: white;\\n  padding: 0 1rem 1rem;\\n  margin: 0;\\n}\\n\\n.circle-link[_ngcontent-%COMP%] {\\n  height: 40px;\\n  width: 40px;\\n  border-radius: 40px;\\n  margin: 8px;\\n  background-color: white;\\n  border: 1px solid #eeeeee;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  cursor: pointer;\\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\\n  transition: 1s ease-out;\\n}\\n\\n.circle-link[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-0.25rem);\\n  box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\\n}\\n\\nfooter[_ngcontent-%COMP%] {\\n  margin-top: 8px;\\n  display: flex;\\n  align-items: center;\\n  line-height: 20px;\\n}\\n\\nfooter[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.github-star-badge[_ngcontent-%COMP%] {\\n  color: #24292e;\\n  display: flex;\\n  align-items: center;\\n  font-size: 12px;\\n  padding: 3px 10px;\\n  border: 1px solid rgba(27, 31, 35, 0.2);\\n  border-radius: 3px;\\n  background-image: linear-gradient(-180deg, #fafbfc, #eff3f6 90%);\\n  margin-left: 4px;\\n  font-weight: 600;\\n}\\n\\n.github-star-badge[_ngcontent-%COMP%]:hover {\\n  background-image: linear-gradient(-180deg, #f0f3f6, #e6ebf1 90%);\\n  border-color: rgba(27, 31, 35, 0.35);\\n  background-position: -0.5em;\\n}\\n\\n.github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%] {\\n  height: 16px;\\n  width: 16px;\\n  margin-right: 4px;\\n}\\n\\nsvg#clouds[_ngcontent-%COMP%] {\\n  position: fixed;\\n  bottom: -160px;\\n  left: -230px;\\n  z-index: -10;\\n  width: 1920px;\\n}\\n\\n\\n@media screen and (max-width: 767px) {\\n  .card-container[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%] {\\n    width: 100%;\\n  }\\n  .card[_ngcontent-%COMP%]:not(.highlight-card) {\\n    height: 16px;\\n    margin: 8px 0;\\n  }\\n  .card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n    margin-left: 72px;\\n  }\\n  svg#rocket-smoke[_ngcontent-%COMP%] {\\n    right: 120px;\\n    transform: rotate(-5deg);\\n  }\\n}\\n@media screen and (max-width: 575px) {\\n  svg#rocket-smoke[_ngcontent-%COMP%] {\\n    display: none;\\n    visibility: hidden;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXBwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGdCQUFnQjtBQUFoQjtFQUNJLDBKQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7RUFDQSxzQkFBQTtFQUNBLG1DQUFBO0VBQ0Esa0NBQUE7QUFFSjs7QUFDRTs7Ozs7O0VBTUUsYUFBQTtBQUVKOztBQUNFO0VBQ0UsU0FBQTtBQUVKOztBQUNFO0VBQ0UsT0FBQTtBQUVKOztBQUNFO0VBQ0Usa0JBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EseUJBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7QUFFSjs7QUFDRTtFQUNFLGNBQUE7QUFFSjs7QUFDRTtFQUNFLFlBQUE7RUFDQSxhQUFBO0FBRUo7O0FBQ0U7RUFDRSxZQUFBO0VBQ0EsY0FBQTtBQUVKOztBQUNFOztFQUVFLFlBQUE7QUFFSjs7QUFDRTtFQUNFLGFBQUE7RUFDQSxzQkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7QUFFSjs7QUFDRTtFQUNFLFlBQUE7RUFDQSxXQUFBO0FBRUo7O0FBQ0U7RUFDRSxpQkFBQTtBQUVKOztBQUNFO0VBQ0UsVUFBQTtBQUVKOztBQUNFO0VBQ0UsYUFBQTtFQUNBLGVBQUE7RUFDQSx1QkFBQTtFQUNBLGdCQUFBO0FBRUo7O0FBQ0U7RUFDRSxVQUFBO0VBQ0Esa0JBQUE7RUFDQSxzQkFBQTtFQUNBLHlCQUFBO0VBR0Esa0JBQUE7RUFFQSxhQUFBO0VBQ0EsbUJBQUE7RUFFQSxtQkFBQTtFQUNBLGdDQUFBO0VBQ0EsaUJBQUE7QUFGSjs7QUFLRTtFQUNFLGVBQUE7QUFGSjs7QUFLRTtFQUNFLFlBQUE7RUFDQSxZQUFBO0FBRko7O0FBU0U7RUFDRSwyQkFBQTtFQUNBLDBDQUFBO0FBTko7O0FBU0U7RUFDRSx3QkFBQTtBQU5KOztBQVNFO0VBQ0UseUJBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtBQU5KOztBQVNFO0VBQ0UsaUJBQUE7QUFOSjs7QUFTRTtFQUNFLFdBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxVQUFBO0FBTko7O0FBU0U7RUFDRSwwQkFBQTtFQUNBLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0FBTko7O0FBU0U7OztFQUdFLGNBQUE7RUFDQSxxQkFBQTtBQU5KOztBQVNFO0VBQ0UsY0FBQTtBQU5KOztBQVNFO0VBQ0Usa0JBQUE7RUFDQSxVQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsaUNBQUE7QUFOSjs7QUFTRTtFQUNFLGNBQUE7RUFDQSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLDJCQUFBO0VBQ0EsY0FBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBQU5KOztBQVNFO0VBQ0Usd0VBQUE7RUFDQSxZQUFBO0VBQ0Esb0JBQUE7RUFDQSxTQUFBO0FBTko7O0FBU0U7RUFDRSxZQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0VBQ0EsV0FBQTtFQUNBLHVCQUFBO0VBQ0EseUJBQUE7RUFDQSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSx3RUFBQTtFQUNBLHVCQUFBO0FBTko7O0FBU0U7RUFDRSwrQkFBQTtFQUNBLDJDQUFBO0FBTko7O0FBU0U7RUFDRSxlQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsaUJBQUE7QUFOSjs7QUFTRTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtBQU5KOztBQVNFO0VBQ0UsY0FBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLHVDQUFBO0VBQ0Esa0JBQUE7RUFDQSxnRUFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7QUFOSjs7QUFTRTtFQUNFLGdFQUFBO0VBQ0Esb0NBQUE7RUFDQSwyQkFBQTtBQU5KOztBQVNFO0VBQ0UsWUFBQTtFQUNBLFdBQUE7RUFDQSxpQkFBQTtBQU5KOztBQVNFO0VBQ0UsZUFBQTtFQUNBLGNBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7QUFOSjs7QUFTRSxzQkFBQTtBQUNBO0VBQ0U7O0lBRUUsV0FBQTtFQU5KO0VBU0U7SUFDRSxZQUFBO0lBQ0EsYUFBQTtFQVBKO0VBVUU7SUFDRSxpQkFBQTtFQVJKO0VBV0U7SUFDRSxZQUFBO0lBQ0Esd0JBQUE7RUFUSjtBQUNGO0FBWUU7RUFDRTtJQUNFLGFBQUE7SUFDQSxrQkFBQTtFQVZKO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XHJcbiAgICBmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCBcIlNlZ29lIFVJXCIsIFJvYm90bywgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZiwgXCJBcHBsZSBDb2xvciBFbW9qaVwiLCBcIlNlZ29lIFVJIEVtb2ppXCIsIFwiU2Vnb2UgVUkgU3ltYm9sXCI7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBjb2xvcjogIzMzMztcclxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcclxuICAgIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7XHJcbiAgfVxyXG5cclxuICBoMSxcclxuICBoMixcclxuICBoMyxcclxuICBoNCxcclxuICBoNSxcclxuICBoNiB7XHJcbiAgICBtYXJnaW46IDhweCAwO1xyXG4gIH1cclxuXHJcbiAgcCB7XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgfVxyXG5cclxuICAuc3BhY2VyIHtcclxuICAgIGZsZXg6IDE7XHJcbiAgfVxyXG5cclxuICAudG9vbGJhciB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDA7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgcmlnaHQ6IDA7XHJcbiAgICBoZWlnaHQ6IDYwcHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMxOTc2ZDI7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG4gIH1cclxuXHJcbiAgLnRvb2xiYXIgaW1nIHtcclxuICAgIG1hcmdpbjogMCAxNnB4O1xyXG4gIH1cclxuXHJcbiAgLnRvb2xiYXIgI3R3aXR0ZXItbG9nbyB7XHJcbiAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICBtYXJnaW46IDAgOHB4O1xyXG4gIH1cclxuXHJcbiAgLnRvb2xiYXIgI3lvdXR1YmUtbG9nbyB7XHJcbiAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICBtYXJnaW46IDAgMTZweDtcclxuICB9XHJcblxyXG4gIC50b29sYmFyICN0d2l0dGVyLWxvZ286aG92ZXIsXHJcbiAgLnRvb2xiYXIgI3lvdXR1YmUtbG9nbzpob3ZlciB7XHJcbiAgICBvcGFjaXR5OiAwLjg7XHJcbiAgfVxyXG5cclxuICAuY29udGVudCB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgbWFyZ2luOiA4MnB4IGF1dG8gMzJweDtcclxuICAgIHBhZGRpbmc6IDAgMTZweDtcclxuICAgIG1heC13aWR0aDogOTYwcHg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICB9XHJcblxyXG4gIHN2Zy5tYXRlcmlhbC1pY29ucyB7XHJcbiAgICBoZWlnaHQ6IDI0cHg7XHJcbiAgICB3aWR0aDogYXV0bztcclxuICB9XHJcblxyXG4gIHN2Zy5tYXRlcmlhbC1pY29uczpub3QoOmxhc3QtY2hpbGQpIHtcclxuICAgIG1hcmdpbi1yaWdodDogOHB4O1xyXG4gIH1cclxuXHJcbiAgLmNhcmQgc3ZnLm1hdGVyaWFsLWljb25zIHBhdGgge1xyXG4gICAgZmlsbDogIzg4ODtcclxuICB9XHJcblxyXG4gIC5jYXJkLWNvbnRhaW5lciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC13cmFwOiB3cmFwO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBtYXJnaW4tdG9wOiAxNnB4O1xyXG4gIH1cclxuXHJcbiAgLmNhcmQge1xyXG4gICAgYWxsOiB1bnNldDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNlZWU7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFmYWZhO1xyXG4gICAgLy8gaGVpZ2h0OiA0MHB4O1xyXG4gICAgLy8gd2lkdGg6IDIwMHB4O1xyXG4gICAgbWFyZ2luOiAwIDhweCAxNnB4O1xyXG4gICAgLy8gcGFkZGluZzogMTZweDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgLy8ganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZS1pbi1vdXQ7XHJcbiAgICBsaW5lLWhlaWdodDogMjRweDtcclxuICB9XHJcblxyXG4gIC5jYXJkLWNvbnRhaW5lciAuY2FyZDpub3QoOmxhc3QtY2hpbGQpIHtcclxuICAgIG1hcmdpbi1yaWdodDogMDtcclxuICB9XHJcblxyXG4gIC5jYXJkLmNhcmQtc21hbGwge1xyXG4gICAgaGVpZ2h0OiAxNnB4O1xyXG4gICAgd2lkdGg6IDE2OHB4O1xyXG4gIH1cclxuXHJcbi8vICAgLmNhcmQtY29udGFpbmVyIC5jYXJkOm5vdCguaGlnaGxpZ2h0LWNhcmQpIHtcclxuLy8gICAgIGN1cnNvcjogcG9pbnRlcjtcclxuLy8gICB9XHJcblxyXG4gIC5jYXJkLWNvbnRhaW5lciAuY2FyZDpub3QoLmhpZ2hsaWdodC1jYXJkKTpob3ZlciB7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTNweCk7XHJcbiAgICBib3gtc2hhZG93OiAwIDRweCAxN3B4IHJnYmEoMCwgMCwgMCwgMC4zNSk7XHJcbiAgfVxyXG5cclxuICAuY2FyZC1jb250YWluZXIgLmNhcmQ6bm90KC5oaWdobGlnaHQtY2FyZCk6aG92ZXIgLm1hdGVyaWFsLWljb25zIHBhdGgge1xyXG4gICAgZmlsbDogcmdiKDEwNSwgMTAzLCAxMDMpO1xyXG4gIH1cclxuXHJcbiAgLmNhcmQuaGlnaGxpZ2h0LWNhcmQge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzE5NzZkMjtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICB3aWR0aDogYXV0bztcclxuICAgIG1pbi13aWR0aDogMzAlO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIH1cclxuXHJcbiAgLmNhcmQuY2FyZC5oaWdobGlnaHQtY2FyZCBzcGFuIHtcclxuICAgIG1hcmdpbi1sZWZ0OiA2MHB4O1xyXG4gIH1cclxuXHJcbiAgc3ZnI3JvY2tldCB7XHJcbiAgICB3aWR0aDogODBweDtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGxlZnQ6IC0xMHB4O1xyXG4gICAgdG9wOiAtMjRweDtcclxuICB9XHJcblxyXG4gIHN2ZyNyb2NrZXQtc21va2Uge1xyXG4gICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gOTVweCk7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDEwcHg7XHJcbiAgICByaWdodDogMTgwcHg7XHJcbiAgICB6LWluZGV4OiAtMTA7XHJcbiAgfVxyXG5cclxuICBhLFxyXG4gIGE6dmlzaXRlZCxcclxuICBhOmhvdmVyIHtcclxuICAgIGNvbG9yOiAjMTk3NmQyO1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gIH1cclxuXHJcbiAgYTpob3ZlciB7XHJcbiAgICBjb2xvcjogIzEyNTY5OTtcclxuICB9XHJcblxyXG4gIC50ZXJtaW5hbCB7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICB3aWR0aDogODAlO1xyXG4gICAgbWF4LXdpZHRoOiA2MDBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDZweDtcclxuICAgIHBhZGRpbmctdG9wOiA0NXB4O1xyXG4gICAgbWFyZ2luLXRvcDogOHB4O1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigxNSwgMTUsIDE2KTtcclxuICB9XHJcblxyXG4gIC50ZXJtaW5hbDo6YmVmb3JlIHtcclxuICAgIGNvbnRlbnQ6IFwiXFwyMDIyIFxcMjAyMiBcXDIwMjJcIjtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMDtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICBoZWlnaHQ6IDRweDtcclxuICAgIGJhY2tncm91bmQ6IHJnYig1OCwgNTgsIDU4KTtcclxuICAgIGNvbG9yOiAjYzJjM2M0O1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBmb250LXNpemU6IDJyZW07XHJcbiAgICBsaW5lLWhlaWdodDogMDtcclxuICAgIHBhZGRpbmc6IDE0cHggMDtcclxuICAgIHRleHQtaW5kZW50OiA0cHg7XHJcbiAgfVxyXG5cclxuICAudGVybWluYWwgcHJlIHtcclxuICAgIGZvbnQtZmFtaWx5OiBTRk1vbm8tUmVndWxhcixDb25zb2xhcyxMaWJlcmF0aW9uIE1vbm8sTWVubG8sbW9ub3NwYWNlO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgcGFkZGluZzogMCAxcmVtIDFyZW07XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgfVxyXG5cclxuICAuY2lyY2xlLWxpbmsge1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgd2lkdGg6IDQwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA0MHB4O1xyXG4gICAgbWFyZ2luOiA4cHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNlZWVlZWU7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgYm94LXNoYWRvdzogMCAxcHggM3B4IHJnYmEoMCwgMCwgMCwgMC4xMiksIDAgMXB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMjQpO1xyXG4gICAgdHJhbnNpdGlvbjogMXMgZWFzZS1vdXQ7XHJcbiAgfVxyXG5cclxuICAuY2lyY2xlLWxpbms6aG92ZXIge1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0wLjI1cmVtKTtcclxuICAgIGJveC1zaGFkb3c6IDBweCAzcHggMTVweCByZ2JhKDAsIDAsIDAsIDAuMik7XHJcbiAgfVxyXG5cclxuICBmb290ZXIge1xyXG4gICAgbWFyZ2luLXRvcDogOHB4O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBsaW5lLWhlaWdodDogMjBweDtcclxuICB9XHJcblxyXG4gIGZvb3RlciBhIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIH1cclxuXHJcbiAgLmdpdGh1Yi1zdGFyLWJhZGdlIHtcclxuICAgIGNvbG9yOiAjMjQyOTJlO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICBwYWRkaW5nOiAzcHggMTBweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjcsMzEsMzUsLjIpO1xyXG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KC0xODBkZWcsI2ZhZmJmYywjZWZmM2Y2IDkwJSk7XHJcbiAgICBtYXJnaW4tbGVmdDogNHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICB9XHJcblxyXG4gIC5naXRodWItc3Rhci1iYWRnZTpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoLTE4MGRlZywjZjBmM2Y2LCNlNmViZjEgOTAlKTtcclxuICAgIGJvcmRlci1jb2xvcjogcmdiYSgyNywzMSwzNSwuMzUpO1xyXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLS41ZW07XHJcbiAgfVxyXG5cclxuICAuZ2l0aHViLXN0YXItYmFkZ2UgLm1hdGVyaWFsLWljb25zIHtcclxuICAgIGhlaWdodDogMTZweDtcclxuICAgIHdpZHRoOiAxNnB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiA0cHg7XHJcbiAgfVxyXG5cclxuICBzdmcjY2xvdWRzIHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIGJvdHRvbTogLTE2MHB4O1xyXG4gICAgbGVmdDogLTIzMHB4O1xyXG4gICAgei1pbmRleDogLTEwO1xyXG4gICAgd2lkdGg6IDE5MjBweDtcclxuICB9XHJcblxyXG4gIC8qIFJlc3BvbnNpdmUgU3R5bGVzICovXHJcbiAgQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzY3cHgpIHtcclxuICAgIC5jYXJkLWNvbnRhaW5lciA+ICo6bm90KC5jaXJjbGUtbGluaykgLFxyXG4gICAgLnRlcm1pbmFsIHtcclxuICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICB9XHJcblxyXG4gICAgLmNhcmQ6bm90KC5oaWdobGlnaHQtY2FyZCkge1xyXG4gICAgICBoZWlnaHQ6IDE2cHg7XHJcbiAgICAgIG1hcmdpbjogOHB4IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLmNhcmQuaGlnaGxpZ2h0LWNhcmQgc3BhbiB7XHJcbiAgICAgIG1hcmdpbi1sZWZ0OiA3MnB4O1xyXG4gICAgfVxyXG5cclxuICAgIHN2ZyNyb2NrZXQtc21va2Uge1xyXG4gICAgICByaWdodDogMTIwcHg7XHJcbiAgICAgIHRyYW5zZm9ybTogcm90YXRlKC01ZGVnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDU3NXB4KSB7XHJcbiAgICBzdmcjcm9ja2V0LXNtb2tlIHtcclxuICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgICAgdmlzaWJpbGl0eTogaGlkZGVuO1xyXG4gICAgfVxyXG4gIH1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { AppComponent };","map":{"version":3,"names":["AppComponent","constructor","title","callActive","rtcConfig","bundlePolicy","undefined","certificates","iceCandidatePoolSize","iceServers","urls","iceTransportPolicy","rtcpMuxPolicy","pc","RTCPeerConnection","senderId","ngOnInit","_this","_asyncToGenerator","setupWebRtc","ngOnDestroy","close","tracks","localStream","getTracks","i","length","stop","_this2","guid","channelName","ontrack","event","remote","nativeElement","srcObject","streams","showLocal","_this3","navigator","mediaDevices","getUserMedia","audio","video","then","stream","me","s4","Math","floor","random","toString","substring","selectors","viewQuery","AppComponent_Query","rf","ctx","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵnamespaceSVG","ɵɵnamespaceHTML","ɵɵlistener","AppComponent_Template_button_click_13_listener","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\andre\\source\\repos\\Unisinos.SaudeEmDia\\src\\app\\app.component.ts","C:\\Users\\andre\\source\\repos\\Unisinos.SaudeEmDia\\src\\app\\app.component.html"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\n// import { AngularFireDatabase, AngularFireList } from 'angularfire2/database';\n// import * as firebase from \"firebase/app\";\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n  title = 'Unisinos.SaudeEmDia';\n  callActive: boolean = false;\n  rtcConfig: RTCConfiguration = {\n    bundlePolicy: undefined,\n    certificates: [],\n    iceCandidatePoolSize: undefined,\n    iceServers: [\n      { urls: \"stun:stun.services.mozilla.com\" },\n      { urls: \"stun:stun.l.google.com:19302\" }\n    ],\n    iceTransportPolicy: undefined,\n    rtcpMuxPolicy: undefined\n  };\n  pc: RTCPeerConnection = new RTCPeerConnection(this.rtcConfig);\n\n  localStream: any;\n  // channel: AngularFireList<{}>;\n  // database: firebase.database.Reference;\n  senderId: string = \"\";\n\n  @ViewChild(\"me\") me: any;\n  @ViewChild(\"remote\") remote: any;\n\n  constructor(\n    //private afDb: AngularFireDatabase,\n  ) { }\n\n  async ngOnInit() {\n    await this.setupWebRtc();\n  }\n\n  public ngOnDestroy() {\n    this.pc.close();\n    let tracks = this.localStream.getTracks();\n\n    for (let i = 0; i < tracks.length; i++) {\n      tracks[i].stop();\n    }\n\n    this.callActive = false;\n  }\n\n  async setupWebRtc() {\n    this.senderId = this.guid();\n    var channelName = \"/webrtc\";\n    // this.channel = this.afDb.list(channelName);\n    // this.database = this.afDb.database.ref(channelName);\n    // this.database.on(\"child_added\", this.readMessage.bind(this));\n\n    // this.pc.onicecandidate = event => {\n    //   event.candidate ? this.sendMessage(this.senderId, JSON.stringify({ ice: event.candidate })) : console.log(\"Sent All Ice\");\n    // }\n\n    // this.pc.onremovestream = event => {\n    //   console.log('Stream Ended');\n    // }\n\n    this.pc.ontrack = event =>\n      (this.remote.nativeElement.srcObject = event.streams[0]); // use ontrack\n  }\n\n  async showLocal() {\n    navigator.mediaDevices.getUserMedia({ audio: true, video: true })\n      .then(stream => (this.me.nativeElement.srcObject = stream))\n      .then(stream => {\n        //this.pc.addStream(stream);\n\n        this.localStream = stream;\n      });\n  }\n\n  // sendMessage(senderId: string, data: string) {\n  //   var msg = this.channel.push({ sender: senderId, message: data });\n  //   msg.remove();\n  // }\n\n  // readMessage(data: any) {\n  //   if (!data) return;\n  //   try {\n  //     var msg = JSON.parse(data.val().message);\n  //     let personalData = data.val().personalData;\n  //     var sender = data.val().sender;\n\n  //     if (sender != this.senderId) {\n  //       if (msg.ice != undefined && this.pc != null) {\n  //         this.pc.addIceCandidate(new RTCIceCandidate(msg.ice));\n  //       } else if (msg.sdp.type == \"offer\") {\n  //         this.callActive = true;\n  //         this.pc.setRemoteDescription(new RTCSessionDescription(msg.sdp))\n  //           .then(() => this.pc.createAnswer())\n  //           .then((answer: any) => this.pc.setLocalDescription(answer))\n  //           .then(() => this.sendMessage(this.senderId, JSON.stringify({ sdp: this.pc.localDescription })));\n  //       } else if (msg.sdp.type == \"answer\") {\n  //         this.callActive = true;\n  //         this.pc.setRemoteDescription(new RTCSessionDescription(msg.sdp));\n  //       }\n  //     }\n  //   } catch (error) {\n  //     console.log(error);\n  //   }\n  // }\n\n  // showRemote() {\n  //   try {\n  //     this.pc.createOffer()\n  //       .then((offer: any) => this.pc.setLocalDescription(offer))\n  //       .then(() => {\n  //         this.sendMessage(this.senderId, JSON.stringify({ sdp: this.pc.localDescription }));\n  //         this.callActive = true;\n  //       });\n  //   } catch (error) {\n  //     this.setupWebRtc();\n  //     console.log(error);\n  //   }\n  // }\n\n  // hangup() {\n  //   this.pc.close();\n  //   let tracks = this.localStream.getTracks();\n  //   for (let i = 0; i < tracks.length; i++) {\n  //     tracks[i].stop();\n  //   }\n  //   this.callActive = false;\n  // }\n\n  guid() {\n    return (this.s4() + this.s4() + \"-\" + this.s4() + \"-\" + this.s4() + \"-\" + this.s4() + \"-\" + this.s4() + this.s4() + this.s4());\n  }\n  s4() {\n    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n  }\n}\n","<!-- Toolbar -->\n<div class=\"toolbar\" role=\"banner\">\n  <!-- <img width=\"40\" alt=\"Angular Logo\"\n    src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg==\" /> -->\n  <span>WebRTC Softphone</span>\n  <div class=\"spacer\"></div>\n  <a aria-label=\"WebRTC\" target=\"_blank\" rel=\"noopener\" href=\"https://webrtc.org/?hl=pt-br\" title=\"WebRTC\">\n    <svg id=\"webrtc-logo\" height=\"24\" width=\"24\" data-name=\"Logo\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"\n      fill=\"#fff\">\n      <path\n        d=\"https://www.gstatic.com/devrel-devsite/prod/vfe8699a5d354c41f3f953a7a9794768d4d2f39d37577d5708b5539be069912e1/webrtc/images/lockup.svg\" />\n    </svg>\n  </a>\n</div>\n\n<div class=\"card-container\">\n  <div class=\"card\">\n    <video id=\"me\" controls autoplay #me></video>\n    <div class=\"row\">\n      <div class=\"col\"><button mat-raised-button color=\"primary\" (click)=\"showLocal()\"\n          [disabled]=\"callActive\">Connect</button></div>\n      <div class=\"col\">\n        <!-- <button mat-raised-button color=\"primary\" (click)=\"showRemote()\" [disabled]=\"callActive\">Connect</button> -->\n      </div>\n      <div class=\"col\">\n        <!-- <button mat-raised-button color=\"warn\" (click)=\"hangup()\" [disabled]=\"!callActive\">Disconnect</button> -->\n      </div>\n    </div>\n  </div>\n\n  <div class=\"card\">\n    <video id=\"device\" controls autoplay #remote>\n    </video>\n  </div>\n</div>\n\n<router-outlet></router-outlet>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}