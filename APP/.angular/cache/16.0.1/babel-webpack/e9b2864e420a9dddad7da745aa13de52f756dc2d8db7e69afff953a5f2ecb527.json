{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/andre/source/repos/Unisinos.SaudeEmDia/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nconst _c0 = [\"me\"];\nconst _c1 = [\"remote\"];\n// import { AngularFireDatabase, AngularFireList } from 'angularfire2/database';\n// import * as firebase from \"firebase/app\";\nclass AppComponent {\n  constructor() {\n    this.title = 'Unisinos.SaudeEmDia';\n    this.callActive = false;\n    this.rtcConfig = {\n      bundlePolicy: undefined,\n      certificates: [],\n      iceCandidatePoolSize: undefined,\n      iceServers: [{\n        urls: \"stun:stun.services.mozilla.com\"\n      }, {\n        urls: \"stun:stun.l.google.com:19302\"\n      }],\n      iceTransportPolicy: undefined,\n      rtcpMuxPolicy: undefined\n    };\n    this.pc = new RTCPeerConnection(this.rtcConfig);\n    // channel: AngularFireList<{}>;\n    // database: firebase.database.Reference;\n    this.senderId = \"\";\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      yield _this.setupWebRtc();\n    })();\n  }\n  ngOnDestroy() {\n    this.pc.close();\n    let tracks = this.localStream.getTracks();\n    for (let i = 0; i < tracks.length; i++) {\n      tracks[i].stop();\n    }\n    this.callActive = false;\n  }\n  setupWebRtc() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.senderId = _this2.guid();\n      var channelName = \"/webrtc\";\n      // this.channel = this.afDb.list(channelName);\n      // this.database = this.afDb.database.ref(channelName);\n      // this.database.on(\"child_added\", this.readMessage.bind(this));\n      // this.pc.onicecandidate = event => {\n      //   event.candidate ? this.sendMessage(this.senderId, JSON.stringify({ ice: event.candidate })) : console.log(\"Sent All Ice\");\n      // }\n      // this.pc.onremovestream = event => {\n      //   console.log('Stream Ended');\n      // }\n      _this2.pc.ontrack = event => _this2.remote.nativeElement.srcObject = event.streams[0]; // use ontrack\n    })();\n  }\n\n  showLocal() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      navigator.mediaDevices.getUserMedia({\n        audio: true,\n        video: true\n      }).then(stream => _this3.me.nativeElement.srcObject = stream).then(stream => {\n        //this.pc.addStream(stream);\n        _this3.localStream = stream;\n      });\n    })();\n  }\n  // sendMessage(senderId: string, data: string) {\n  //   var msg = this.channel.push({ sender: senderId, message: data });\n  //   msg.remove();\n  // }\n  // readMessage(data: any) {\n  //   if (!data) return;\n  //   try {\n  //     var msg = JSON.parse(data.val().message);\n  //     let personalData = data.val().personalData;\n  //     var sender = data.val().sender;\n  //     if (sender != this.senderId) {\n  //       if (msg.ice != undefined && this.pc != null) {\n  //         this.pc.addIceCandidate(new RTCIceCandidate(msg.ice));\n  //       } else if (msg.sdp.type == \"offer\") {\n  //         this.callActive = true;\n  //         this.pc.setRemoteDescription(new RTCSessionDescription(msg.sdp))\n  //           .then(() => this.pc.createAnswer())\n  //           .then((answer: any) => this.pc.setLocalDescription(answer))\n  //           .then(() => this.sendMessage(this.senderId, JSON.stringify({ sdp: this.pc.localDescription })));\n  //       } else if (msg.sdp.type == \"answer\") {\n  //         this.callActive = true;\n  //         this.pc.setRemoteDescription(new RTCSessionDescription(msg.sdp));\n  //       }\n  //     }\n  //   } catch (error) {\n  //     console.log(error);\n  //   }\n  // }\n  // showRemote() {\n  //   try {\n  //     this.pc.createOffer()\n  //       .then((offer: any) => this.pc.setLocalDescription(offer))\n  //       .then(() => {\n  //         this.sendMessage(this.senderId, JSON.stringify({ sdp: this.pc.localDescription }));\n  //         this.callActive = true;\n  //       });\n  //   } catch (error) {\n  //     this.setupWebRtc();\n  //     console.log(error);\n  //   }\n  // }\n  // hangup() {\n  //   this.pc.close();\n  //   let tracks = this.localStream.getTracks();\n  //   for (let i = 0; i < tracks.length; i++) {\n  //     tracks[i].stop();\n  //   }\n  //   this.callActive = false;\n  // }\n  guid() {\n    return this.s4() + this.s4() + \"-\" + this.s4() + \"-\" + this.s4() + \"-\" + this.s4() + \"-\" + this.s4() + this.s4() + this.s4();\n  }\n  s4() {\n    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n  }\n}\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)();\n};\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  viewQuery: function AppComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.me = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.remote = _t.first);\n    }\n  },\n  decls: 17,\n  vars: 1,\n  consts: [[\"role\", \"banner\", 1, \"toolbar\"], [1, \"spacer\"], [\"aria-label\", \"WebRTC\", \"target\", \"_blank\", \"rel\", \"noopener\", \"href\", \"https://webrtc.org/?hl=pt-br\", \"title\", \"WebRTC\"], [\"id\", \"webrtc-logo\", \"height\", \"24\", \"width\", \"24\", \"data-name\", \"Logo\", \"xmlns\", \"http://www.w3.org/2000/svg\", \"viewBox\", \"0 0 24 24\", \"fill\", \"#fff\"], [\"d\", \"https://www.gstatic.com/devrel-devsite/prod/vfe8699a5d354c41f3f953a7a9794768d4d2f39d37577d5708b5539be069912e1/webrtc/images/lockup.svg\"], [1, \"card-container\"], [1, \"card\"], [\"id\", \"me\", \"controls\", \"\", \"autoplay\", \"\", 2, \"height\", \"440px\", \"width\", \"640px\"], [\"me\", \"\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"disabled\", \"click\"], [\"id\", \"device\", \"controls\", \"\", \"autoplay\", \"\", 2, \"height\", \"440px\", \"width\", \"640px\"], [\"remote\", \"\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"span\");\n      i0.ɵɵtext(2, \"WebRTC Softphone\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(3, \"div\", 1);\n      i0.ɵɵelementStart(4, \"a\", 2);\n      i0.ɵɵnamespaceSVG();\n      i0.ɵɵelementStart(5, \"svg\", 3);\n      i0.ɵɵelement(6, \"path\", 4);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵnamespaceHTML();\n      i0.ɵɵelementStart(7, \"div\", 5)(8, \"div\", 6);\n      i0.ɵɵelement(9, \"video\", 7, 8);\n      i0.ɵɵelementStart(11, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_11_listener() {\n        return ctx.showLocal();\n      });\n      i0.ɵɵtext(12, \"Connect\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"div\", 6);\n      i0.ɵɵelement(14, \"video\", 10, 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(16, \"router-outlet\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"disabled\", ctx.callActive);\n    }\n  },\n  dependencies: [i1.RouterOutlet],\n  styles: [\"@charset \\\"UTF-8\\\";\\n[_nghost-%COMP%] {\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\";\\n  font-size: 14px;\\n  color: #333;\\n  box-sizing: border-box;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\nh1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%] {\\n  margin: 8px 0;\\n}\\n\\np[_ngcontent-%COMP%] {\\n  margin: 0;\\n}\\n\\n.spacer[_ngcontent-%COMP%] {\\n  flex: 1;\\n}\\n\\n.toolbar[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  height: 60px;\\n  display: flex;\\n  align-items: center;\\n  background-color: #1976d2;\\n  color: white;\\n  font-weight: 600;\\n}\\n\\n.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  margin: 0 16px;\\n}\\n\\n.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%] {\\n  height: 40px;\\n  margin: 0 8px;\\n}\\n\\n.toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%] {\\n  height: 40px;\\n  margin: 0 16px;\\n}\\n\\n.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover {\\n  opacity: 0.8;\\n}\\n\\n.content[_ngcontent-%COMP%] {\\n  display: flex;\\n  margin: 82px auto 32px;\\n  padding: 0 16px;\\n  max-width: 960px;\\n  flex-direction: column;\\n  align-items: center;\\n}\\n\\nsvg.material-icons[_ngcontent-%COMP%] {\\n  height: 24px;\\n  width: auto;\\n}\\n\\nsvg.material-icons[_ngcontent-%COMP%]:not(:last-child) {\\n  margin-right: 8px;\\n}\\n\\n.card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\\n  fill: #888;\\n}\\n\\n.card-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-wrap: wrap;\\n  justify-content: center;\\n  margin-top: 16px;\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n  border-radius: 4px;\\n  border: 1px solid #eee;\\n  background-color: #fafafa;\\n  height: 440px;\\n  width: 640px;\\n  margin: 0 8px 16px;\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n}\\n\\n.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child) {\\n  margin-right: 0;\\n}\\n\\n.card.card-small[_ngcontent-%COMP%] {\\n  height: 16px;\\n  width: 168px;\\n}\\n\\n.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover {\\n  transform: translateY(-3px);\\n  box-shadow: 0 4px 17px rgba(0, 0, 0, 0.35);\\n}\\n\\n.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\\n  fill: rgb(105, 103, 103);\\n}\\n\\n.card.highlight-card[_ngcontent-%COMP%] {\\n  background-color: #1976d2;\\n  color: white;\\n  font-weight: 600;\\n  border: none;\\n  width: auto;\\n  min-width: 30%;\\n  position: relative;\\n}\\n\\n.card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  margin-left: 60px;\\n}\\n\\nsvg#rocket[_ngcontent-%COMP%] {\\n  width: 80px;\\n  position: absolute;\\n  left: -10px;\\n  top: -24px;\\n}\\n\\nsvg#rocket-smoke[_ngcontent-%COMP%] {\\n  height: calc(100vh - 95px);\\n  position: absolute;\\n  top: 10px;\\n  right: 180px;\\n  z-index: -10;\\n}\\n\\na[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover {\\n  color: #1976d2;\\n  text-decoration: none;\\n}\\n\\na[_ngcontent-%COMP%]:hover {\\n  color: #125699;\\n}\\n\\n.terminal[_ngcontent-%COMP%] {\\n  position: relative;\\n  width: 80%;\\n  max-width: 600px;\\n  border-radius: 6px;\\n  padding-top: 45px;\\n  margin-top: 8px;\\n  overflow: hidden;\\n  background-color: rgb(15, 15, 16);\\n}\\n\\n.terminal[_ngcontent-%COMP%]::before {\\n  content: \\\"\\u2022\\u2022\\u2022\\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  height: 4px;\\n  background: rgb(58, 58, 58);\\n  color: #c2c3c4;\\n  width: 100%;\\n  font-size: 2rem;\\n  line-height: 0;\\n  padding: 14px 0;\\n  text-indent: 4px;\\n}\\n\\n.terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%] {\\n  font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, monospace;\\n  color: white;\\n  padding: 0 1rem 1rem;\\n  margin: 0;\\n}\\n\\n.circle-link[_ngcontent-%COMP%] {\\n  height: 40px;\\n  width: 40px;\\n  border-radius: 40px;\\n  margin: 8px;\\n  background-color: white;\\n  border: 1px solid #eeeeee;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  cursor: pointer;\\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\\n  transition: 1s ease-out;\\n}\\n\\n.circle-link[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-0.25rem);\\n  box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\\n}\\n\\nfooter[_ngcontent-%COMP%] {\\n  margin-top: 8px;\\n  display: flex;\\n  align-items: center;\\n  line-height: 20px;\\n}\\n\\nfooter[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.github-star-badge[_ngcontent-%COMP%] {\\n  color: #24292e;\\n  display: flex;\\n  align-items: center;\\n  font-size: 12px;\\n  padding: 3px 10px;\\n  border: 1px solid rgba(27, 31, 35, 0.2);\\n  border-radius: 3px;\\n  background-image: linear-gradient(-180deg, #fafbfc, #eff3f6 90%);\\n  margin-left: 4px;\\n  font-weight: 600;\\n}\\n\\n.github-star-badge[_ngcontent-%COMP%]:hover {\\n  background-image: linear-gradient(-180deg, #f0f3f6, #e6ebf1 90%);\\n  border-color: rgba(27, 31, 35, 0.35);\\n  background-position: -0.5em;\\n}\\n\\n.github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%] {\\n  height: 16px;\\n  width: 16px;\\n  margin-right: 4px;\\n}\\n\\nsvg#clouds[_ngcontent-%COMP%] {\\n  position: fixed;\\n  bottom: -160px;\\n  left: -230px;\\n  z-index: -10;\\n  width: 1920px;\\n}\\n\\n\\n@media screen and (max-width: 767px) {\\n  .card-container[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%] {\\n    width: 100%;\\n  }\\n  .card[_ngcontent-%COMP%]:not(.highlight-card) {\\n    height: 16px;\\n    margin: 8px 0;\\n  }\\n  .card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n    margin-left: 72px;\\n  }\\n  svg#rocket-smoke[_ngcontent-%COMP%] {\\n    right: 120px;\\n    transform: rotate(-5deg);\\n  }\\n}\\n@media screen and (max-width: 575px) {\\n  svg#rocket-smoke[_ngcontent-%COMP%] {\\n    display: none;\\n    visibility: hidden;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXBwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGdCQUFnQjtBQUFoQjtFQUNJLDBKQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7RUFDQSxzQkFBQTtFQUNBLG1DQUFBO0VBQ0Esa0NBQUE7QUFFSjs7QUFDRTs7Ozs7O0VBTUUsYUFBQTtBQUVKOztBQUNFO0VBQ0UsU0FBQTtBQUVKOztBQUNFO0VBQ0UsT0FBQTtBQUVKOztBQUNFO0VBQ0Usa0JBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EseUJBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7QUFFSjs7QUFDRTtFQUNFLGNBQUE7QUFFSjs7QUFDRTtFQUNFLFlBQUE7RUFDQSxhQUFBO0FBRUo7O0FBQ0U7RUFDRSxZQUFBO0VBQ0EsY0FBQTtBQUVKOztBQUNFOztFQUVFLFlBQUE7QUFFSjs7QUFDRTtFQUNFLGFBQUE7RUFDQSxzQkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7QUFFSjs7QUFDRTtFQUNFLFlBQUE7RUFDQSxXQUFBO0FBRUo7O0FBQ0U7RUFDRSxpQkFBQTtBQUVKOztBQUNFO0VBQ0UsVUFBQTtBQUVKOztBQUNFO0VBQ0UsYUFBQTtFQUNBLGVBQUE7RUFDQSx1QkFBQTtFQUNBLGdCQUFBO0FBRUo7O0FBQ0U7RUFFRSxrQkFBQTtFQUNBLHNCQUFBO0VBQ0EseUJBQUE7RUFDQSxhQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBRUEsYUFBQTtFQUNBLG1CQUFBO0VBRUEsbUJBQUE7QUFESjs7QUFNRTtFQUNFLGVBQUE7QUFISjs7QUFNRTtFQUNFLFlBQUE7RUFDQSxZQUFBO0FBSEo7O0FBVUU7RUFDRSwyQkFBQTtFQUNBLDBDQUFBO0FBUEo7O0FBVUU7RUFDRSx3QkFBQTtBQVBKOztBQVVFO0VBQ0UseUJBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtBQVBKOztBQVVFO0VBQ0UsaUJBQUE7QUFQSjs7QUFVRTtFQUNFLFdBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxVQUFBO0FBUEo7O0FBVUU7RUFDRSwwQkFBQTtFQUNBLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0FBUEo7O0FBVUU7OztFQUdFLGNBQUE7RUFDQSxxQkFBQTtBQVBKOztBQVVFO0VBQ0UsY0FBQTtBQVBKOztBQVVFO0VBQ0Usa0JBQUE7RUFDQSxVQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsaUNBQUE7QUFQSjs7QUFVRTtFQUNFLGNBQUE7RUFDQSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLDJCQUFBO0VBQ0EsY0FBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBQVBKOztBQVVFO0VBQ0Usd0VBQUE7RUFDQSxZQUFBO0VBQ0Esb0JBQUE7RUFDQSxTQUFBO0FBUEo7O0FBVUU7RUFDRSxZQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0VBQ0EsV0FBQTtFQUNBLHVCQUFBO0VBQ0EseUJBQUE7RUFDQSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSx3RUFBQTtFQUNBLHVCQUFBO0FBUEo7O0FBVUU7RUFDRSwrQkFBQTtFQUNBLDJDQUFBO0FBUEo7O0FBVUU7RUFDRSxlQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsaUJBQUE7QUFQSjs7QUFVRTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtBQVBKOztBQVVFO0VBQ0UsY0FBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLHVDQUFBO0VBQ0Esa0JBQUE7RUFDQSxnRUFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7QUFQSjs7QUFVRTtFQUNFLGdFQUFBO0VBQ0Esb0NBQUE7RUFDQSwyQkFBQTtBQVBKOztBQVVFO0VBQ0UsWUFBQTtFQUNBLFdBQUE7RUFDQSxpQkFBQTtBQVBKOztBQVVFO0VBQ0UsZUFBQTtFQUNBLGNBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7QUFQSjs7QUFVRSxzQkFBQTtBQUNBO0VBQ0U7O0lBRUUsV0FBQTtFQVBKO0VBVUU7SUFDRSxZQUFBO0lBQ0EsYUFBQTtFQVJKO0VBV0U7SUFDRSxpQkFBQTtFQVRKO0VBWUU7SUFDRSxZQUFBO0lBQ0Esd0JBQUE7RUFWSjtBQUNGO0FBYUU7RUFDRTtJQUNFLGFBQUE7SUFDQSxrQkFBQTtFQVhKO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XHJcbiAgICBmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCBcIlNlZ29lIFVJXCIsIFJvYm90bywgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZiwgXCJBcHBsZSBDb2xvciBFbW9qaVwiLCBcIlNlZ29lIFVJIEVtb2ppXCIsIFwiU2Vnb2UgVUkgU3ltYm9sXCI7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBjb2xvcjogIzMzMztcclxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcclxuICAgIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7XHJcbiAgfVxyXG5cclxuICBoMSxcclxuICBoMixcclxuICBoMyxcclxuICBoNCxcclxuICBoNSxcclxuICBoNiB7XHJcbiAgICBtYXJnaW46IDhweCAwO1xyXG4gIH1cclxuXHJcbiAgcCB7XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgfVxyXG5cclxuICAuc3BhY2VyIHtcclxuICAgIGZsZXg6IDE7XHJcbiAgfVxyXG5cclxuICAudG9vbGJhciB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDA7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgcmlnaHQ6IDA7XHJcbiAgICBoZWlnaHQ6IDYwcHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMxOTc2ZDI7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG4gIH1cclxuXHJcbiAgLnRvb2xiYXIgaW1nIHtcclxuICAgIG1hcmdpbjogMCAxNnB4O1xyXG4gIH1cclxuXHJcbiAgLnRvb2xiYXIgI3R3aXR0ZXItbG9nbyB7XHJcbiAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICBtYXJnaW46IDAgOHB4O1xyXG4gIH1cclxuXHJcbiAgLnRvb2xiYXIgI3lvdXR1YmUtbG9nbyB7XHJcbiAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICBtYXJnaW46IDAgMTZweDtcclxuICB9XHJcblxyXG4gIC50b29sYmFyICN0d2l0dGVyLWxvZ286aG92ZXIsXHJcbiAgLnRvb2xiYXIgI3lvdXR1YmUtbG9nbzpob3ZlciB7XHJcbiAgICBvcGFjaXR5OiAwLjg7XHJcbiAgfVxyXG5cclxuICAuY29udGVudCB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgbWFyZ2luOiA4MnB4IGF1dG8gMzJweDtcclxuICAgIHBhZGRpbmc6IDAgMTZweDtcclxuICAgIG1heC13aWR0aDogOTYwcHg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICB9XHJcblxyXG4gIHN2Zy5tYXRlcmlhbC1pY29ucyB7XHJcbiAgICBoZWlnaHQ6IDI0cHg7XHJcbiAgICB3aWR0aDogYXV0bztcclxuICB9XHJcblxyXG4gIHN2Zy5tYXRlcmlhbC1pY29uczpub3QoOmxhc3QtY2hpbGQpIHtcclxuICAgIG1hcmdpbi1yaWdodDogOHB4O1xyXG4gIH1cclxuXHJcbiAgLmNhcmQgc3ZnLm1hdGVyaWFsLWljb25zIHBhdGgge1xyXG4gICAgZmlsbDogIzg4ODtcclxuICB9XHJcblxyXG4gIC5jYXJkLWNvbnRhaW5lciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC13cmFwOiB3cmFwO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBtYXJnaW4tdG9wOiAxNnB4O1xyXG4gIH1cclxuXHJcbiAgLmNhcmQge1xyXG4gICAgLy8gYWxsOiB1bnNldDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNlZWU7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFmYWZhO1xyXG4gICAgaGVpZ2h0OiA0NDBweDtcclxuICAgIHdpZHRoOiA2NDBweDtcclxuICAgIG1hcmdpbjogMCA4cHggMTZweDtcclxuICAgIC8vIHBhZGRpbmc6IDE2cHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgIC8vIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIC8vIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2UtaW4tb3V0O1xyXG4gICAgLy8gbGluZS1oZWlnaHQ6IDI0cHg7XHJcbiAgfVxyXG5cclxuICAuY2FyZC1jb250YWluZXIgLmNhcmQ6bm90KDpsYXN0LWNoaWxkKSB7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDA7XHJcbiAgfVxyXG5cclxuICAuY2FyZC5jYXJkLXNtYWxsIHtcclxuICAgIGhlaWdodDogMTZweDtcclxuICAgIHdpZHRoOiAxNjhweDtcclxuICB9XHJcblxyXG4vLyAgIC5jYXJkLWNvbnRhaW5lciAuY2FyZDpub3QoLmhpZ2hsaWdodC1jYXJkKSB7XHJcbi8vICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbi8vICAgfVxyXG5cclxuICAuY2FyZC1jb250YWluZXIgLmNhcmQ6bm90KC5oaWdobGlnaHQtY2FyZCk6aG92ZXIge1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0zcHgpO1xyXG4gICAgYm94LXNoYWRvdzogMCA0cHggMTdweCByZ2JhKDAsIDAsIDAsIDAuMzUpO1xyXG4gIH1cclxuXHJcbiAgLmNhcmQtY29udGFpbmVyIC5jYXJkOm5vdCguaGlnaGxpZ2h0LWNhcmQpOmhvdmVyIC5tYXRlcmlhbC1pY29ucyBwYXRoIHtcclxuICAgIGZpbGw6IHJnYigxMDUsIDEwMywgMTAzKTtcclxuICB9XHJcblxyXG4gIC5jYXJkLmhpZ2hsaWdodC1jYXJkIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMxOTc2ZDI7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgd2lkdGg6IGF1dG87XHJcbiAgICBtaW4td2lkdGg6IDMwJTtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICB9XHJcblxyXG4gIC5jYXJkLmNhcmQuaGlnaGxpZ2h0LWNhcmQgc3BhbiB7XHJcbiAgICBtYXJnaW4tbGVmdDogNjBweDtcclxuICB9XHJcblxyXG4gIHN2ZyNyb2NrZXQge1xyXG4gICAgd2lkdGg6IDgwcHg7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBsZWZ0OiAtMTBweDtcclxuICAgIHRvcDogLTI0cHg7XHJcbiAgfVxyXG5cclxuICBzdmcjcm9ja2V0LXNtb2tlIHtcclxuICAgIGhlaWdodDogY2FsYygxMDB2aCAtIDk1cHgpO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAxMHB4O1xyXG4gICAgcmlnaHQ6IDE4MHB4O1xyXG4gICAgei1pbmRleDogLTEwO1xyXG4gIH1cclxuXHJcbiAgYSxcclxuICBhOnZpc2l0ZWQsXHJcbiAgYTpob3ZlciB7XHJcbiAgICBjb2xvcjogIzE5NzZkMjtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICB9XHJcblxyXG4gIGE6aG92ZXIge1xyXG4gICAgY29sb3I6ICMxMjU2OTk7XHJcbiAgfVxyXG5cclxuICAudGVybWluYWwge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgd2lkdGg6IDgwJTtcclxuICAgIG1heC13aWR0aDogNjAwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA2cHg7XHJcbiAgICBwYWRkaW5nLXRvcDogNDVweDtcclxuICAgIG1hcmdpbi10b3A6IDhweDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTUsIDE1LCAxNik7XHJcbiAgfVxyXG5cclxuICAudGVybWluYWw6OmJlZm9yZSB7XHJcbiAgICBjb250ZW50OiBcIlxcMjAyMiBcXDIwMjIgXFwyMDIyXCI7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDA7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgaGVpZ2h0OiA0cHg7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2IoNTgsIDU4LCA1OCk7XHJcbiAgICBjb2xvcjogI2MyYzNjNDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgZm9udC1zaXplOiAycmVtO1xyXG4gICAgbGluZS1oZWlnaHQ6IDA7XHJcbiAgICBwYWRkaW5nOiAxNHB4IDA7XHJcbiAgICB0ZXh0LWluZGVudDogNHB4O1xyXG4gIH1cclxuXHJcbiAgLnRlcm1pbmFsIHByZSB7XHJcbiAgICBmb250LWZhbWlseTogU0ZNb25vLVJlZ3VsYXIsQ29uc29sYXMsTGliZXJhdGlvbiBNb25vLE1lbmxvLG1vbm9zcGFjZTtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIHBhZGRpbmc6IDAgMXJlbSAxcmVtO1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gIH1cclxuXHJcbiAgLmNpcmNsZS1saW5rIHtcclxuICAgIGhlaWdodDogNDBweDtcclxuICAgIHdpZHRoOiA0MHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNDBweDtcclxuICAgIG1hcmdpbjogOHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZWVlZWVlO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIGJveC1zaGFkb3c6IDAgMXB4IDNweCByZ2JhKDAsIDAsIDAsIDAuMTIpLCAwIDFweCAycHggcmdiYSgwLCAwLCAwLCAwLjI0KTtcclxuICAgIHRyYW5zaXRpb246IDFzIGVhc2Utb3V0O1xyXG4gIH1cclxuXHJcbiAgLmNpcmNsZS1saW5rOmhvdmVyIHtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMC4yNXJlbSk7XHJcbiAgICBib3gtc2hhZG93OiAwcHggM3B4IDE1cHggcmdiYSgwLCAwLCAwLCAwLjIpO1xyXG4gIH1cclxuXHJcbiAgZm9vdGVyIHtcclxuICAgIG1hcmdpbi10b3A6IDhweDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgbGluZS1oZWlnaHQ6IDIwcHg7XHJcbiAgfVxyXG5cclxuICBmb290ZXIgYSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICB9XHJcblxyXG4gIC5naXRodWItc3Rhci1iYWRnZSB7XHJcbiAgICBjb2xvcjogIzI0MjkyZTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgcGFkZGluZzogM3B4IDEwcHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI3LDMxLDM1LC4yKTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcclxuICAgIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgtMTgwZGVnLCNmYWZiZmMsI2VmZjNmNiA5MCUpO1xyXG4gICAgbWFyZ2luLWxlZnQ6IDRweDtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgfVxyXG5cclxuICAuZ2l0aHViLXN0YXItYmFkZ2U6aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KC0xODBkZWcsI2YwZjNmNiwjZTZlYmYxIDkwJSk7XHJcbiAgICBib3JkZXItY29sb3I6IHJnYmEoMjcsMzEsMzUsLjM1KTtcclxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0uNWVtO1xyXG4gIH1cclxuXHJcbiAgLmdpdGh1Yi1zdGFyLWJhZGdlIC5tYXRlcmlhbC1pY29ucyB7XHJcbiAgICBoZWlnaHQ6IDE2cHg7XHJcbiAgICB3aWR0aDogMTZweDtcclxuICAgIG1hcmdpbi1yaWdodDogNHB4O1xyXG4gIH1cclxuXHJcbiAgc3ZnI2Nsb3VkcyB7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICBib3R0b206IC0xNjBweDtcclxuICAgIGxlZnQ6IC0yMzBweDtcclxuICAgIHotaW5kZXg6IC0xMDtcclxuICAgIHdpZHRoOiAxOTIwcHg7XHJcbiAgfVxyXG5cclxuICAvKiBSZXNwb25zaXZlIFN0eWxlcyAqL1xyXG4gIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDc2N3B4KSB7XHJcbiAgICAuY2FyZC1jb250YWluZXIgPiAqOm5vdCguY2lyY2xlLWxpbmspICxcclxuICAgIC50ZXJtaW5hbCB7XHJcbiAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgfVxyXG5cclxuICAgIC5jYXJkOm5vdCguaGlnaGxpZ2h0LWNhcmQpIHtcclxuICAgICAgaGVpZ2h0OiAxNnB4O1xyXG4gICAgICBtYXJnaW46IDhweCAwO1xyXG4gICAgfVxyXG5cclxuICAgIC5jYXJkLmhpZ2hsaWdodC1jYXJkIHNwYW4ge1xyXG4gICAgICBtYXJnaW4tbGVmdDogNzJweDtcclxuICAgIH1cclxuXHJcbiAgICBzdmcjcm9ja2V0LXNtb2tlIHtcclxuICAgICAgcmlnaHQ6IDEyMHB4O1xyXG4gICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgtNWRlZyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA1NzVweCkge1xyXG4gICAgc3ZnI3JvY2tldC1zbW9rZSB7XHJcbiAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcclxuICAgIH1cclxuICB9XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});\nexport { AppComponent };","map":{"version":3,"names":["AppComponent","constructor","title","callActive","rtcConfig","bundlePolicy","undefined","certificates","iceCandidatePoolSize","iceServers","urls","iceTransportPolicy","rtcpMuxPolicy","pc","RTCPeerConnection","senderId","ngOnInit","_this","_asyncToGenerator","setupWebRtc","ngOnDestroy","close","tracks","localStream","getTracks","i","length","stop","_this2","guid","channelName","ontrack","event","remote","nativeElement","srcObject","streams","showLocal","_this3","navigator","mediaDevices","getUserMedia","audio","video","then","stream","me","s4","Math","floor","random","toString","substring","selectors","viewQuery","AppComponent_Query","rf","ctx","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵnamespaceSVG","ɵɵnamespaceHTML","ɵɵlistener","AppComponent_Template_button_click_11_listener","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\andre\\source\\repos\\Unisinos.SaudeEmDia\\src\\app\\app.component.ts","C:\\Users\\andre\\source\\repos\\Unisinos.SaudeEmDia\\src\\app\\app.component.html"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\n// import { AngularFireDatabase, AngularFireList } from 'angularfire2/database';\n// import * as firebase from \"firebase/app\";\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n  title = 'Unisinos.SaudeEmDia';\n  callActive: boolean = false;\n  rtcConfig: RTCConfiguration = {\n    bundlePolicy: undefined,\n    certificates: [],\n    iceCandidatePoolSize: undefined,\n    iceServers: [\n      { urls: \"stun:stun.services.mozilla.com\" },\n      { urls: \"stun:stun.l.google.com:19302\" }\n    ],\n    iceTransportPolicy: undefined,\n    rtcpMuxPolicy: undefined\n  };\n  pc: RTCPeerConnection = new RTCPeerConnection(this.rtcConfig);\n\n  localStream: any;\n  // channel: AngularFireList<{}>;\n  // database: firebase.database.Reference;\n  senderId: string = \"\";\n\n  @ViewChild(\"me\") me: any;\n  @ViewChild(\"remote\") remote: any;\n\n  constructor(\n    //private afDb: AngularFireDatabase,\n  ) { }\n\n  async ngOnInit() {\n    await this.setupWebRtc();\n  }\n\n  public ngOnDestroy() {\n    this.pc.close();\n    let tracks = this.localStream.getTracks();\n\n    for (let i = 0; i < tracks.length; i++) {\n      tracks[i].stop();\n    }\n\n    this.callActive = false;\n  }\n\n  async setupWebRtc() {\n    this.senderId = this.guid();\n    var channelName = \"/webrtc\";\n    // this.channel = this.afDb.list(channelName);\n    // this.database = this.afDb.database.ref(channelName);\n    // this.database.on(\"child_added\", this.readMessage.bind(this));\n\n    // this.pc.onicecandidate = event => {\n    //   event.candidate ? this.sendMessage(this.senderId, JSON.stringify({ ice: event.candidate })) : console.log(\"Sent All Ice\");\n    // }\n\n    // this.pc.onremovestream = event => {\n    //   console.log('Stream Ended');\n    // }\n\n    this.pc.ontrack = event =>\n      (this.remote.nativeElement.srcObject = event.streams[0]); // use ontrack\n  }\n\n  async showLocal() {\n    navigator.mediaDevices.getUserMedia({ audio: true, video: true })\n      .then(stream => (this.me.nativeElement.srcObject = stream))\n      .then(stream => {\n        //this.pc.addStream(stream);\n\n        this.localStream = stream;\n      });\n  }\n\n  // sendMessage(senderId: string, data: string) {\n  //   var msg = this.channel.push({ sender: senderId, message: data });\n  //   msg.remove();\n  // }\n\n  // readMessage(data: any) {\n  //   if (!data) return;\n  //   try {\n  //     var msg = JSON.parse(data.val().message);\n  //     let personalData = data.val().personalData;\n  //     var sender = data.val().sender;\n\n  //     if (sender != this.senderId) {\n  //       if (msg.ice != undefined && this.pc != null) {\n  //         this.pc.addIceCandidate(new RTCIceCandidate(msg.ice));\n  //       } else if (msg.sdp.type == \"offer\") {\n  //         this.callActive = true;\n  //         this.pc.setRemoteDescription(new RTCSessionDescription(msg.sdp))\n  //           .then(() => this.pc.createAnswer())\n  //           .then((answer: any) => this.pc.setLocalDescription(answer))\n  //           .then(() => this.sendMessage(this.senderId, JSON.stringify({ sdp: this.pc.localDescription })));\n  //       } else if (msg.sdp.type == \"answer\") {\n  //         this.callActive = true;\n  //         this.pc.setRemoteDescription(new RTCSessionDescription(msg.sdp));\n  //       }\n  //     }\n  //   } catch (error) {\n  //     console.log(error);\n  //   }\n  // }\n\n  // showRemote() {\n  //   try {\n  //     this.pc.createOffer()\n  //       .then((offer: any) => this.pc.setLocalDescription(offer))\n  //       .then(() => {\n  //         this.sendMessage(this.senderId, JSON.stringify({ sdp: this.pc.localDescription }));\n  //         this.callActive = true;\n  //       });\n  //   } catch (error) {\n  //     this.setupWebRtc();\n  //     console.log(error);\n  //   }\n  // }\n\n  // hangup() {\n  //   this.pc.close();\n  //   let tracks = this.localStream.getTracks();\n  //   for (let i = 0; i < tracks.length; i++) {\n  //     tracks[i].stop();\n  //   }\n  //   this.callActive = false;\n  // }\n\n  guid() {\n    return (this.s4() + this.s4() + \"-\" + this.s4() + \"-\" + this.s4() + \"-\" + this.s4() + \"-\" + this.s4() + this.s4() + this.s4());\n  }\n  s4() {\n    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n  }\n}\n","<!-- Toolbar -->\n<div class=\"toolbar\" role=\"banner\">\n  <!-- <img width=\"40\" alt=\"Angular Logo\"\n    src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg==\" /> -->\n  <span>WebRTC Softphone</span>\n  <div class=\"spacer\"></div>\n  <a aria-label=\"WebRTC\" target=\"_blank\" rel=\"noopener\" href=\"https://webrtc.org/?hl=pt-br\" title=\"WebRTC\">\n    <svg id=\"webrtc-logo\" height=\"24\" width=\"24\" data-name=\"Logo\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"\n      fill=\"#fff\">\n      <path\n        d=\"https://www.gstatic.com/devrel-devsite/prod/vfe8699a5d354c41f3f953a7a9794768d4d2f39d37577d5708b5539be069912e1/webrtc/images/lockup.svg\" />\n    </svg>\n  </a>\n</div>\n\n<div class=\"card-container\">\n  <div class=\"card\">\n    <video id=\"me\" controls autoplay #me style=\"height: 440px;width: 640px;\"></video>\n    <button mat-raised-button color=\"primary\" (click)=\"showLocal()\" [disabled]=\"callActive\">Connect</button>\n    <!-- <button mat-raised-button color=\"primary\" (click)=\"showRemote()\" [disabled]=\"callActive\">Connect</button> -->\n    <!-- <button mat-raised-button color=\"warn\" (click)=\"hangup()\" [disabled]=\"!callActive\">Disconnect</button> -->\n  </div>\n\n  <div class=\"card\">\n    <video id=\"device\" controls autoplay #remote style=\"height: 440px;width: 640px;\"> </video>\n  </div>\n</div>\n\n<router-outlet></router-outlet>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}